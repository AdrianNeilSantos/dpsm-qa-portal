{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport Fetch from 'isomorphic-unfetch';\nimport Layout from '../../components/layout';\nimport PersonalInfo from '../../components/faculty/basic-info/personal-info';\nimport Education from '../../components/faculty/basic-info/education';\nimport EmploymentHistory from '../../components/faculty/basic-info/employment-history';\nimport WorkExperience from '../../components/faculty/basic-info/work-experience';\n\nfunction BasicInfo(props) {\n  return /*#__PURE__*/_jsxs(Layout, {\n    children: [/*#__PURE__*/_jsx(\"nav\", {\n      className: \"jsx-3469655085\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        id: \"nav-tab\",\n        role: \"tablist\",\n        className: \"jsx-3469655085\" + \" \" + \"nav nav-tabs nav-fill nav-justified\",\n        children: [/*#__PURE__*/_jsx(\"a\", {\n          id: \"personal-info-tab\",\n          \"data-toggle\": \"tab\",\n          href: \"#personal-info\",\n          role: \"tab\",\n          \"aria-controls\": \"personal-info\",\n          \"aria-selected\": \"true\",\n          className: \"jsx-3469655085\" + \" \" + \"nav-item nav-link active\",\n          children: \"Personal Information\"\n        }), /*#__PURE__*/_jsx(\"a\", {\n          id: \"educ-tab\",\n          \"data-toggle\": \"tab\",\n          href: \"#educ\",\n          role: \"tab\",\n          \"aria-controls\": \"educ\",\n          \"aria-selected\": \"false\",\n          className: \"jsx-3469655085\" + \" \" + \"nav-item nav-link\",\n          children: \"Education\"\n        }), /*#__PURE__*/_jsx(\"a\", {\n          id: \"work-exp-tab\",\n          \"data-toggle\": \"tab\",\n          href: \"#work-exp\",\n          role: \"tab\",\n          \"aria-controls\": \"work-exp\",\n          \"aria-selected\": \"false\",\n          className: \"jsx-3469655085\" + \" \" + \"nav-item nav-link\",\n          children: \"Work Experience\"\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"br\", {\n      className: \"jsx-3469655085\"\n    }), /*#__PURE__*/_jsx(\"br\", {\n      className: \"jsx-3469655085\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      id: \"nav-tabContent\",\n      className: \"jsx-3469655085\" + \" \" + \"tab-content\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        id: \"personal-info\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"personal-info-tab\",\n        className: \"jsx-3469655085\" + \" \" + \"tab-pane fade show active\",\n        children: /*#__PURE__*/_jsx(PersonalInfo, {\n          children: props.personalInfo\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        id: \"educ\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"educ-tab\",\n        className: \"jsx-3469655085\" + \" \" + \"tab-pane fade\",\n        children: /*#__PURE__*/_jsx(Education, {\n          children: props.education\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        id: \"work-exp\",\n        role: \"tabpanel\",\n        \"aria-labelledby\": \"work-exp-tab\",\n        className: \"jsx-3469655085\" + \" \" + \"tab-pane fade\",\n        children: /*#__PURE__*/_jsx(WorkExperience, {\n          children: props.workExperience\n        })\n      })]\n    }), /*#__PURE__*/_jsx(_JSXStyle, {\n      id: \"3469655085\",\n      children: [\"a.nav-item.jsx-3469655085:focus{background-color:#78b6c2;}\", \"a.nav-item.jsx-3469655085:hover{background-color:#78b6c2;}\", \"a.active.jsx-3469655085{background-color:#78b6c2;}\"]\n    })]\n  });\n}\n\nBasicInfo.getInitialProps = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  var url, res, access, token, header, personal, personalInfo, employ, employment, educ, education, work, workExperience;\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          url = 'https://sp-api-test.alun.app/api/';\n          _context.next = 3;\n          return fetch(url + 'token', {\n            body: JSON.stringify({\n              \"username\": \"username\",\n              \"password\": \"password\"\n            }),\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            method: 'POST'\n          });\n\n        case 3:\n          res = _context.sent;\n          _context.next = 6;\n          return res.json();\n\n        case 6:\n          access = _context.sent;\n          token = access.result;\n          url = 'https://sp-api-test.alun.app/api/faculty/basic-info/';\n          header = {\n            headers: {\n              'Authorization': 'Bearer ' + token\n            }\n          };\n          _context.next = 12;\n          return fetch(url + '9', header);\n\n        case 12:\n          personal = _context.sent;\n          _context.next = 15;\n          return personal.json();\n\n        case 15:\n          personalInfo = _context.sent;\n          _context.next = 18;\n          return fetch(url + '9/employment', header);\n\n        case 18:\n          employ = _context.sent;\n          _context.next = 21;\n          return employ.json();\n\n        case 21:\n          employment = _context.sent;\n          _context.next = 24;\n          return fetch(url + '9/education', header);\n\n        case 24:\n          educ = _context.sent;\n          _context.next = 27;\n          return educ.json();\n\n        case 27:\n          education = _context.sent;\n          _context.next = 30;\n          return fetch(url + '9/work-exp', header);\n\n        case 30:\n          work = _context.sent;\n          _context.next = 33;\n          return work.json();\n\n        case 33:\n          workExperience = _context.sent;\n          workExperience.result.push(employment.result);\n          return _context.abrupt(\"return\", {\n            personalInfo: personalInfo.result,\n            // employment: employment.result,\n            education: education.result,\n            workExperience: workExperience.result\n          });\n\n        case 36:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n})); //   BasicInfo.getInitialProps = async () => {\n//       let url = 'https://sp-api-test.alun.app/api/faculty/9'\n//       let token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InVzZXJuYW1lIiwiaWF0IjoxNjA1MzM5MjI4LCJleHAiOjE2MDUzNDI4Mjh9.deoiQ1EyQW0LDkKAY_T-lgjiehjeZ2KnsEGlkD2oP4A'\n//       const response = await fetch(url, {\n//           headers: {\n//               'Authorization': 'Bearer ' + token\n//           }\n//       })\n//       const personalInfo = await response.json()\n//       return { \n//           personalInfo: personalInfo.result\n//         }\n//   }\n\nexport default BasicInfo;","map":null,"metadata":{},"sourceType":"module"}