{"ast":null,"code":"import axios from \"axios\";\nimport jwt from 'jsonwebtoken';\nexport default async function downloadProof(data, token) {\n  let cookieData = jwt.decode(token);\n  let facultyId = cookieData.facultyId;\n\n  try {\n    if (token) {\n      try {\n        const response = await axios({\n          url: `http://localhost:3001/api/download/${data}`,\n          method: 'GET',\n          headers: {\n            Authorization: `Bearer ${token}`\n          },\n          responseType: 'blob'\n        }).then(response => {\n          console.log(response);\n          const url = window.URL.createObjectURL(new Blob([response.data]));\n          const link = document.createElement('a');\n          link.href = url;\n          link.setAttribute('download', `${data}`); //or any other extension\n\n          document.body.appendChild(link);\n          link.click();\n        });\n      } catch (err) {\n        console.error(err);\n        return err;\n      }\n    }\n  } catch (err) {\n    console.error(err);\n    return err;\n  }\n}","map":{"version":3,"sources":["C:/Users/Aji Maglanque/Desktop/dpsm-qa-portal/services/faculty/downloadProof.js"],"names":["axios","jwt","downloadProof","data","token","cookieData","decode","facultyId","response","url","method","headers","Authorization","responseType","then","console","log","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","err","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,eAAe,eAAeC,aAAf,CAA6BC,IAA7B,EAAmCC,KAAnC,EAA0C;AACxD,MAAIC,UAAU,GAAGJ,GAAG,CAACK,MAAJ,CAAWF,KAAX,CAAjB;AACG,MAAIG,SAAS,GAAGF,UAAU,CAACE,SAA3B;;AACH,MAAI;AACH,QAAIH,KAAJ,EAAW;AACV,UAAI;AACH,cAAMI,QAAQ,GAAG,MAAMR,KAAK,CAAC;AAC5BS,UAAAA,GAAG,EAAG,sCAAqCN,IAAK,EADpB;AAE5BO,UAAAA,MAAM,EAAE,KAFoB;AAG5BC,UAAAA,OAAO,EAAE;AAAEC,YAAAA,aAAa,EAAG,UAASR,KAAM;AAAjC,WAHmB;AAI5BS,UAAAA,YAAY,EAAE;AAJc,SAAD,CAAL,CAKpBC,IALoB,CAKdN,QAAD,IAAc;AACrBO,UAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACA,gBAAMC,GAAG,GAAGQ,MAAM,CAACC,GAAP,CAAWC,eAAX,CAA2B,IAAIC,IAAJ,CAAS,CAACZ,QAAQ,CAACL,IAAV,CAAT,CAA3B,CAAZ;AACA,gBAAMkB,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAb;AACAF,UAAAA,IAAI,CAACG,IAAL,GAAYf,GAAZ;AACAY,UAAAA,IAAI,CAACI,YAAL,CAAkB,UAAlB,EAA+B,GAAEtB,IAAK,EAAtC,EALqB,CAKqB;;AAC1CmB,UAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0BN,IAA1B;AACAA,UAAAA,IAAI,CAACO,KAAL;AACA,SAbsB,CAAvB;AAcA,OAfD,CAeE,OAAOC,GAAP,EAAY;AACbd,QAAAA,OAAO,CAACe,KAAR,CAAcD,GAAd;AACA,eAAOA,GAAP;AACA;AACD;AACD,GAtBD,CAsBE,OAAOA,GAAP,EAAY;AACbd,IAAAA,OAAO,CAACe,KAAR,CAAcD,GAAd;AACA,WAAOA,GAAP;AACA;AACD","sourcesContent":["import axios from \"axios\"\r\nimport jwt from 'jsonwebtoken'\r\n\r\nexport default async function downloadProof(data, token) {\r\n\tlet cookieData = jwt.decode(token)\r\n    let facultyId = cookieData.facultyId\r\n\ttry {\r\n\t\tif (token) {\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await axios({\r\n\t\t\t\t\turl: `http://localhost:3001/api/download/${data}`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\theaders: { Authorization: `Bearer ${token}` },\r\n\t\t\t\t\tresponseType: 'blob'\r\n\t\t\t\t}).then((response) => {\r\n\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\tconst url = window.URL.createObjectURL(new Blob([response.data]));\r\n\t\t\t\t\tconst link = document.createElement('a');\r\n\t\t\t\t\tlink.href = url;\r\n\t\t\t\t\tlink.setAttribute('download', `${data}`); //or any other extension\r\n\t\t\t\t\tdocument.body.appendChild(link);\r\n\t\t\t\t\tlink.click();\r\n\t\t\t\t})\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error(err)\r\n\t\t\t\treturn err\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tconsole.error(err)\r\n\t\treturn err\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}