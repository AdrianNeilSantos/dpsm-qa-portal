(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{14588:function(e,r,t){"use strict";t.d(r,{Z:function(){return O}});var a=t(809),n=t.n(a),s=t(92447),l=t(26265),i=t(85893),c=t(64121),o=(t(41664),t(74047)),d=t(52700),u=t(8127),m=t(58580),h=t(20775),p=t(65988),f=t(67294),x=t(17513),j=t(11163),b=t(9669),v=t.n(b),y=t(49704),g=t.n(y);function N(e,r){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(n().mark((function e(r,t){var a,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=17;break}return e.prev=4,r.append("facultyId",s),r.append("status","Pending"),e.next=9,v()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/licensure-exam",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 9:return l=e.sent,e.abrupt("return",l.data);case 13:return e.prev=13,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 17:e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 23:case"end":return e.stop()}}),e,null,[[2,19],[4,13]])})))).apply(this,arguments)}function S(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,h.Z)(e);if(r){var n=(0,h.Z)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,m.Z)(this,t)}}var w=function(e){(0,u.Z)(t,e);var r=S(t);function t(e){var a;return(0,o.Z)(this,t),(a=r.call(this,e)).state={duplicateForms:[]},a}return(0,d.Z)(t,[{key:"render",value:function(){var e=this;return(0,i.jsx)(x.J9,{initialValues:{examName:"",examDate:"",licenseNumber:"",rank:"",proof:""},onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t,a){var s,l,i,c,o;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=a.resetForm,l=document.getElementById("licenseForm"),i=new FormData(l),c=document.getElementById("licensureexamalert"),r.next=6,N(i,e.props.token);case 6:1==(o=r.sent).success?(c.className="alert alert-success",c.style="visibility: visible",c.innerHTML=o.message):(c.className="alert alert-danger",o.error?c.innerHTML=o.error[0].message:c.innerHTML=o.message),$("#licensureexamalert").fadeTo(5e3,500).slideUp(500,(function(){$("#licensureexamalert").slideUp(500)})),s(),j.default.push("/faculty/accomplishment");case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"licenseForm",children:[(0,i.jsx)("hr",{className:"jsx-371132353"}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("h6",{className:"jsx-371132353",children:"Required"}),(0,i.jsxs)("div",{className:"jsx-371132353 form-row",children:[(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"LicensureExam[]",className:"jsx-371132353 required-label",children:" Licensure Exam "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"examName",placeholder:"Input licensure exam",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"LicensureExamDate[]",className:"jsx-371132353 required-label",children:" Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"examDate",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"LicensureExamRank[]",className:"jsx-371132353",children:" Rank "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"rank",placeholder:"Input rank"})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"LicenseNumber[]",className:"jsx-371132353 required-label",children:" License Number "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"licenseNumber",placeholder:"Input licensure number",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"LicensureExamProof[]",className:"jsx-371132353 required-label",children:" Proof "}),(0,i.jsx)(x.gN,{type:"file",className:"form-control-file",name:"proof",required:!0})]})]}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("button",{type:"submit",disabled:r,className:"jsx-371132353 btn btn-primary col-md-12",children:"Submit"}),(0,i.jsx)(p.default,{id:"371132353",children:['label.required-label.jsx-371132353:after{content:"*";color:#f00;}','h6.jsx-371132353:before{content:"* ";color:#f00;}']})]})}})}}]),t}(f.Component),I=t(61588),P=t(72939);function R(e,r){return D.apply(this,arguments)}function D(){return(D=(0,s.Z)(n().mark((function e(r,t){var a,s,l,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=13;break}return l="http://localhost:3001/api/faculty/accomplishment/"+s,""==r.get("proof")&&r.delete("proof"),""==r.get("rank")&&r.set("rank",""),e.next=9,v()({method:"PUT",url:l+"/licensure-exam",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 9:return i=e.sent,e.abrupt("return",i.data);case 13:console.log(access.result.message);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}function F(e,r){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(n().mark((function e(r,t){var a,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=15;break}return e.prev=4,e.next=7,v().delete("http://localhost:3001/api/faculty/accomplishment/"+s+"/licensure-exam",{headers:{Authorization:"Bearer ".concat(t)},data:{licenseId:"".concat(r)}});case 7:return l=e.sent,e.abrupt("return",l.data);case 11:return e.prev=11,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 21:case"end":return e.stop()}}),e,null,[[2,17],[4,11]])})))).apply(this,arguments)}function L(e,r,t,a){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)(n().mark((function e(r,t,a,s){var l,i,c,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=g().decode(s),t?2==l.role?i="Verified":3==l.role&&(i="Approved"):(i="Rejected",r.set("approverRemarks",l.name+": "+r.get("approverRemarks"))),r.append("status",i),e.prev=3,!s){e.next=17;break}return e.prev=5,c="http://localhost:3001/api/faculty/accomplishment/"+a,e.next=9,v()({method:"PUT",url:c+"/licensure-exam",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s)}});case 9:return o=e.sent,e.abrupt("return",o.data);case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),e.abrupt("return",e.t0);case 17:e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(3),console.error(e.t1),e.abrupt("return",e.t1);case 23:case"end":return e.stop()}}),e,null,[[3,19],[5,13]])})))).apply(this,arguments)}function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O=function(e){var r,t=0,a=0,l=f.useState({licenseId:0,examName:"",examDate:"",licenseNumber:"",rank:"",proof:""}),o=(0,c.Z)(l,2),d=o[0],u=o[1];function m(e){a=e}return e.name,r=null!=e.children?Object.keys(e.children).map((function(r){if(null!=e.children[r].licenseId)return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.children[r].examName}),(0,i.jsx)("td",{children:0==e.children[r].rank?"N/A":e.children[r].rank}),(0,i.jsx)("td",{children:e.children[r].examDate}),(0,i.jsx)("td",{children:e.children[r].licenseNumber}),(0,i.jsxs)("td",{children:[e.children[r].proof&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var t=e.children[r].proof;(0,P.Z)(t,e.token)},children:"Download"}),(0,i.jsx)("a",{className:"btn btn-info",href:"http://localhost:3001/"+e.children[r].proof,style:{color:"white"},target:"_blank",children:"Preview"})]}),!e.children[r].proof&&(0,i.jsx)("div",{children:"None"})]}),(0,i.jsx)("td",{children:e.children[r].status}),(0,i.jsx)("td",{children:e.children[r].approverRemarks||"None"}),(0,i.jsxs)("td",{children:[e.facultyFlag&&!e.viewFlag&&(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#editLicensureExam",onClick:function(){var t,a;t=e.children[r].licenseId,a=t,Object.keys(e.children).map((function(r){e.children[r].licenseId==a&&(u(e.children[r]),""!=e.children[r].rank&&null!=e.children[r].rank||u((function(e){return E(E({},e),{},{rank:""})})))}))},children:"Edit"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#deleteLicensureExam",onClick:function(){var a;a=e.children[r].licenseId,t=a},children:"Delete"})]}),!e.facultyFlag&&!e.viewFlag&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#approveLicense",onClick:function(){m(e.children[r].licenseId)},children:"Approve"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#rejectLicense",onClick:function(){m(e.children[r].licenseId)},children:"Reject"})]})]})]},e.children[r].licenseId)})):(0,i.jsx)("td",{colSpan:"7",children:(0,i.jsx)("p",{align:"center",children:"No data available!"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{align:"center",children:" Licensure Exams "}),(0,i.jsx)(I.Z,{unit:e.unit,position:e.position,children:e.name}),(0,i.jsx)("div",{role:"alert",id:"licensureexamalert",style:{visibility:"hidden"}}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsx)("table",{className:"table table-striped table-sm",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Exam Name"}),(0,i.jsx)("th",{children:"Rank"}),(0,i.jsx)("th",{children:"Date"}),(0,i.jsx)("th",{children:"License Number"}),(0,i.jsx)("th",{children:"Proof"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Approver Remarks"}),!e.viewFlag&&(0,i.jsx)("th",{children:"Action"})]}),r]})})}),e.facultyFlag&&(0,i.jsx)("div",{children:(0,i.jsx)(w,{token:e.token})}),(0,i.jsx)("div",{className:"modal fade",id:"editLicensureExam",tabIndex:"-1",role:"dialog","aria-labelledby":"editLicensureExamLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"editLicensureExamLabel",children:"Update Licensure Exam Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsx)(x.J9,{enableReinitialize:!0,initialValues:d,onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t){var a,s,l,i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("editLicForm"),(s=new FormData(a)).append("licenseId",d.licenseId),l=document.getElementById("licensureexamalert"),r.next=6,R(s,e.token);case 6:1==(i=r.sent).success?(l.className="alert alert-success",l.style="visibility: visible",l.innerHTML=i.message):(l.className="alert alert-danger",i.error?l.innerHTML=i.error[0].message:l.innerHTML=i.message),$("#licensureexamalert").fadeTo(5e3,500).slideUp(500,(function(){$("#licensureexamalert").slideUp(500)})),j.default.push("/faculty/accomplishment");case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"editLicForm",children:[(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"LicensureExamUpdate",children:" Licensure Exam "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"examName",id:"examName",placeholder:"Input licensure exam"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"LicensureExamDateUpdate",children:" Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"examDate",id:"examDate"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"LicensureExamRankUpdate",children:" Rank "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"rank",id:"rank",placeholder:"Input rank"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"LicenseNumeberUpdate",children:" License Number "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"licenseNumber",id:"licenseNumber",placeholder:"Input licensure number"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"LicensureExamProofUpdate",children:" Proof "}),(0,i.jsx)(x.gN,{type:"file",className:"form-control-file",name:"proof",id:"proof",value:void 0})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary","data-dismiss":"modal",disabled:r,onClick:function(){$("#editLicensureExam").modal("toggle")},children:"Save changes"})]})]})}})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"deleteLicensureExam",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteLicensureExamLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"deleteLicensureExamLabel",children:"Delete Licensure Exam Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:" Are you sure you want to delete this education information? "})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"No, don't delete"}),(0,i.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:(0,s.Z)(n().mark((function r(){var a,s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("licensureexamalert"),r.next=3,F(t,e.token);case 3:1==(s=r.sent).success?(a.className="alert alert-success",a.style="visibility: visible",a.innerHTML=s.message):(a.className="alert alert-danger",s.error?a.innerHTML=s.error[0].message:a.innerHTML=s.message),$("#licensureexamalert").fadeTo(5e3,500).slideUp(500,(function(){$("#licensureexamalert").slideUp(500)})),j.default.push("/faculty/accomplishment");case 7:case"end":return r.stop()}}),r)}))),children:"Yes, delete"})]})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"approveLicense",tabIndex:"-1",role:"dialog","aria-labelledby":"approveLicenseLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"approveLicenseLabel",children:"Approve Licensure Exam Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:" Are you sure you want to approve this licensure exam information? "})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"No, don't approve"}),(0,i.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,s.Z)(n().mark((function r(){var t,s,l;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=document.getElementById("licensureexamalert"),$("#approveLicense").modal("toggle"),(s=new FormData).append("licenseId",a),r.next=6,L(s,!0,e.facultyId,e.token);case 6:1==(l=r.sent).success?(t.className="alert alert-success",t.style="visibility: visible",t.innerHTML=l.message):(t.className="alert alert-danger",t.style="visibility: visible",l.error?t.innerHTML=l.error[0].message:t.innerHTML=l.message),$("#licensureexamalert").fadeTo(5e3,500).slideUp(500,(function(){$("#licensureexamalert").slideUp(500)})),j.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 10:case"end":return r.stop()}}),r)}))),children:"Yes, approve"})]})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"rejectLicense",tabIndex:"-1",role:"dialog","aria-labelledby":"rejectLicenseLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"rejectLicenseLabel",children:"Reject Licensure Exam Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsx)(x.J9,{enableReinitialize:!0,initialValues:d,onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t){var s,l,i,c;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=document.getElementById("licensureexamalert"),$("#rejectLicense").modal("toggle"),l=document.getElementById("rejectLicenseForm"),(i=new FormData(l)).append("licenseId",a),r.next=7,L(i,!1,e.facultyId,e.token);case 7:1==(c=r.sent).success?(s.className="alert alert-success",s.style="visibility: visible",s.innerHTML=c.message):(s.className="alert alert-danger",s.style="visibility: visible",c.error?s.innerHTML=c.error[0].message:s.innerHTML=c.message),$("#licensureexamalert").fadeTo(5e3,500).slideUp(500,(function(){$("#licensureexamalert").slideUp(500)})),j.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"rejectLicenseForm",children:[(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"RejectionRemarks",children:" Reason/Remarks for Rejection "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"approverRemarks",placeholder:"Input remarks",required:!0})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,onClick:function(){$("#rejectLicense").modal("toggle")},children:"Save changes"})]})]})}})]})})})]})}},5121:function(e,r,t){"use strict";t.d(r,{Z:function(){return O}});var a=t(809),n=t.n(a),s=t(92447),l=t(26265),i=t(85893),c=t(64121),o=(t(41664),t(74047)),d=t(52700),u=t(8127),m=t(58580),h=t(20775),p=t(65988),f=t(67294),x=t(17513),j=t(11163),b=t(9669),v=t.n(b),y=t(49704),g=t.n(y);function N(e,r){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(n().mark((function e(r,t){var a,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=18;break}return e.prev=4,""==r.get("endDate")&&r.delete("endDate"),r.append("facultyId",s),r.append("status","Pending"),e.next=10,v()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/public-service",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 10:return l=e.sent,e.abrupt("return",l.data);case 14:return e.prev=14,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 18:e.next=24;break;case 20:return e.prev=20,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 24:case"end":return e.stop()}}),e,null,[[2,20],[4,14]])})))).apply(this,arguments)}function S(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,h.Z)(e);if(r){var n=(0,h.Z)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,m.Z)(this,t)}}var w=function(e){(0,u.Z)(t,e);var r=S(t);function t(e){return(0,o.Z)(this,t),r.call(this,e)}return(0,d.Z)(t,[{key:"render",value:function(){var e=this;return(0,i.jsx)(x.J9,{initialValues:{type:"",position:"",organization:"",description:"",startDate:"",endDate:"",proof:""},onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t,a){var s,l,i,c,o;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=a.resetForm,l=document.getElementById("psForm"),i=new FormData(l),c=document.getElementById("publicservicealert"),r.next=6,N(i,e.props.token);case 6:1==(o=r.sent).success?(c.className="alert alert-success",c.style="visibility: visible",c.innerHTML=o.message):(c.className="alert alert-danger",o.error?c.innerHTML=o.error[0].message:c.innerHTML=o.message),$("#publicservicealert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicservicealert").slideUp(500)})),s(),j.default.push("/faculty/accomplishment");case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"psForm",children:[(0,i.jsx)("hr",{className:"jsx-371132353"}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("h6",{className:"jsx-371132353",children:"Required"}),(0,i.jsxs)("div",{className:"jsx-371132353 form-row",children:[(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"PublicServicePosition[]",className:"jsx-371132353 required-label",children:" Position/Role "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"position",id:"position",placeholder:"Input position/role",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceOrganization[]",className:"jsx-371132353 required-label",children:" Organization "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"organization",id:"organization",placeholder:"Input organization",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentStartDate[]",className:"jsx-371132353 required-label",children:" Start Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"startDate",id:"startDate",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentEndDate[]",className:"jsx-371132353",children:" End Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"endDate",id:"endDate"})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentProof[]",className:"jsx-371132353 required-label",children:" Proof "}),(0,i.jsx)(x.gN,{type:"file",className:"form-control-file",name:"proof",id:"proof",required:!0})]})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-row",children:[(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentType[]",className:"jsx-371132353 required-label",children:" Type of Contribution "}),(0,i.jsxs)(x.gN,{as:"select",className:"form-control",name:"type",id:"type",required:!0,children:[(0,i.jsx)("option",{value:"Within UPM",className:"jsx-371132353",children:"Within UPM"}),(0,i.jsx)("option",{value:"Within Pro",className:"jsx-371132353",children:"Contribution to the Profession"}),(0,i.jsx)("option",{value:"Within Nat",className:"jsx-371132353",children:"Contribution to the Nation"}),(0,i.jsx)("option",{value:"Within Wor",className:"jsx-371132353",children:"Contribution to the World"})]})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-6",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentDescription[]",className:"jsx-371132353",children:" Description "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"description",id:"description",placeholder:"Input description"})]})]}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("button",{type:"submit",disabled:r,className:"jsx-371132353 btn btn-primary col-md-12",children:"Submit"}),(0,i.jsx)("hr",{className:"jsx-371132353"}),(0,i.jsx)(p.default,{id:"371132353",children:['label.required-label.jsx-371132353:after{content:"*";color:#f00;}','h6.jsx-371132353:before{content:"* ";color:#f00;}']})]})}})}}]),t}(f.Component),I=t(61588),P=t(72939);function R(e,r){return D.apply(this,arguments)}function D(){return(D=(0,s.Z)(n().mark((function e(r,t){var a,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=15;break}return e.prev=4,e.next=7,v().delete("http://localhost:3001/api/faculty/accomplishment/"+s+"/public-service",{headers:{Authorization:"Bearer ".concat(t)},data:{publicServiceId:"".concat(r)}});case 7:return l=e.sent,e.abrupt("return",l.data);case 11:return e.prev=11,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 21:case"end":return e.stop()}}),e,null,[[2,17],[4,11]])})))).apply(this,arguments)}function F(e,r){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(n().mark((function e(r,t){var a,s,l,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=14;break}return l="http://localhost:3001/api/faculty/accomplishment/"+s,{headers:{Authorization:"Bearer "+t}},""==r.get("proof")&&r.delete("proof"),""==r.get("endDate")&&r.delete("endDate"),e.next=10,v()({method:"PUT",url:l+"/public-service",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 10:return i=e.sent,e.abrupt("return",i.data);case 14:console.log(access.result.message);case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})))).apply(this,arguments)}function L(e,r,t,a){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)(n().mark((function e(r,t,a,s){var l,i,c,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=g().decode(s),t?2==l.role?i="Verified":3==l.role&&(i="Approved"):(i="Rejected",r.set("approverRemarks",l.name+": "+r.get("approverRemarks"))),r.append("status",i),e.prev=3,!s){e.next=17;break}return e.prev=5,c="http://localhost:3001/api/faculty/accomplishment/"+a,e.next=9,v()({method:"PUT",url:c+"/public-service",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s)}});case 9:return o=e.sent,e.abrupt("return",o.data);case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),e.abrupt("return",e.t0);case 17:e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(3),console.error(e.t1),e.abrupt("return",e.t1);case 23:case"end":return e.stop()}}),e,null,[[3,19],[5,13]])})))).apply(this,arguments)}function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O=function(e){e.name;var r,t,a=0,l=0,o=0,d=f.useState({publicServiceId:0,position:"",organization:"",description:"",type:"",startDate:"",endDate:""}),u=(0,c.Z)(d,2),m=u[0],h=u[1],p=null,b=null;function v(e){l=e}function y(e){a=e}function g(e){o=e}function N(r){Object.keys(e.children).map((function(t){e.children[t].publicServiceId==r&&(h(e.children[t]),""!=e.children[t].endDate&&null!=e.children[t].endDate||h((function(e){return E(E({},e),{},{endDate:""})})))}))}return null!=e.children&&(p=Object.keys(e.children).map((function(r){if("Within UPM"==e.children[r].type)return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.children[r].position}),(0,i.jsx)("td",{children:e.children[r].organization}),(0,i.jsx)("td",{children:e.children[r].description}),(0,i.jsx)("td",{children:e.children[r].startDate}),(0,i.jsx)("td",{children:e.children[r].endDate}),(0,i.jsxs)("td",{children:[e.children[r].proof&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var t=e.children[r].proof;(0,P.Z)(t,e.token)},children:"Download"}),(0,i.jsx)("a",{className:"btn btn-info",href:"http://localhost:3001/"+e.children[r].proof,style:{color:"white"},target:"_blank",children:"Preview"})]}),!e.children[r].proof&&(0,i.jsx)("div",{children:"None"})]}),(0,i.jsx)("td",{children:e.children[r].status}),(0,i.jsx)("td",{children:e.children[r].approverRemarks||"None"}),!e.viewFlag&&(0,i.jsxs)("td",{children:[e.facultyFlag&&(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#editPublicService",onClick:function(){v(e.children[r].publicServiceId),N(l)},children:"Edit"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#deletePublicService",onClick:function(){y(e.children[r].publicServiceId)},children:"Delete"})]}),!e.facultyFlag&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#approvePublicService",onClick:function(){g(e.children[r].publicServiceId)},children:"Approve"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#rejectPublicService",onClick:function(){g(e.children[r].publicServiceId)},children:"Reject"})]})]})]},e.children[r].publicServiceId)})),b=Object.keys(e.children).map((function(r){if("Within Pro"==e.children[r].type)return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.children[r].position}),(0,i.jsx)("td",{children:e.children[r].organization}),(0,i.jsx)("td",{children:e.children[r].description}),(0,i.jsx)("td",{children:e.children[r].startDate}),(0,i.jsx)("td",{children:e.children[r].endDate}),(0,i.jsxs)("td",{children:[e.children[r].proof&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var t=e.children[r].proof;(0,P.Z)(t,e.token)},children:"Download"}),(0,i.jsx)("a",{className:"btn btn-info",href:"http://localhost:3001/"+e.children[r].proof,style:{color:"white"},target:"_blank",children:"Preview"})]}),!e.children[r].proof&&(0,i.jsx)("div",{children:"None"})]}),(0,i.jsx)("td",{children:e.children[r].status}),(0,i.jsx)("td",{children:e.children[r].approverRemarks||"None"}),!e.viewFlag&&(0,i.jsxs)("td",{children:[e.facultyFlag&&(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#editPublicService",onClick:function(){v(e.children[r].publicServiceId),N(l)},children:"Edit"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#deletePublicService",onClick:function(){y(e.children[r].publicServiceId)},children:"Delete"})]}),!e.facultyFlag&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#approvePublicService",onClick:function(){g(e.children[r].publicServiceId)},children:"Approve"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#rejectPublicService",onClick:function(){g(e.children[r].publicServiceId)},children:"Reject"})]})]})]},e.children[r].publicServiceId)})),r=Object.keys(e.children).map((function(r){if("Within Nat"==e.children[r].type)return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.children[r].position}),(0,i.jsx)("td",{children:e.children[r].organization}),(0,i.jsx)("td",{children:e.children[r].description}),(0,i.jsx)("td",{children:e.children[r].startDate}),(0,i.jsx)("td",{children:e.children[r].endDate}),(0,i.jsxs)("td",{children:[e.children[r].proof&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var t=e.children[r].proof;(0,P.Z)(t,e.token)},children:"Download"}),(0,i.jsx)("a",{className:"btn btn-info",href:"http://localhost:3001/"+e.children[r].proof,style:{color:"white"},target:"_blank",children:"Preview"})]}),!e.children[r].proof&&(0,i.jsx)("div",{children:"None"})]}),(0,i.jsx)("td",{children:e.children[r].status}),(0,i.jsx)("td",{children:e.children[r].approverRemarks||"None"}),!e.viewFlag&&(0,i.jsxs)("td",{children:[e.facultyFlag&&(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#editPublicService",onClick:function(){v(e.children[r].publicServiceId),N(l)},children:"Edit"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#deletePublicService",onClick:function(){y(e.children[r].publicServiceId)},children:"Delete"})]}),!e.facultyFlag&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#approvePublicService",onClick:function(){g(e.children[r].publicServiceId)},children:"Approve"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#rejectPublicService",onClick:function(){g(e.children[r].publicServiceId)},children:"Reject"})]})]})]},e.children[r].publicServiceId)})),t=Object.keys(e.children).map((function(r){if("Within Wor"==e.children[r].type)return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.children[r].position}),(0,i.jsx)("td",{children:e.children[r].organization}),(0,i.jsx)("td",{children:e.children[r].description}),(0,i.jsx)("td",{children:e.children[r].startDate}),(0,i.jsx)("td",{children:e.children[r].endDate}),(0,i.jsxs)("td",{children:[e.children[r].proof&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var t=e.children[r].proof;(0,P.Z)(t,e.token)},children:"Download"}),(0,i.jsx)("a",{className:"btn btn-info",href:"http://localhost:3001/"+e.children[r].proof,style:{color:"white"},target:"_blank",children:"Preview"})]}),!e.children[r].proof&&(0,i.jsx)("div",{children:"None"})]}),(0,i.jsx)("td",{children:e.children[r].status}),(0,i.jsx)("td",{children:e.children[r].approverRemarks||"None"}),!e.viewFlag&&(0,i.jsxs)("td",{children:[e.facultyFlag&&(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#editPublicService",onClick:function(){v(e.children[r].publicServiceId),N(l)},children:"Edit"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#deletePublicService",onClick:function(){y(e.children[r].publicServiceId)},children:"Delete"})]}),!e.facultyFlag&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#approvePublicService",onClick:function(){g(e.children[r].publicServiceId)},children:"Approve"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#rejectPublicService",onClick:function(){g(e.children[r].publicServiceId)},children:"Reject"})]})]})]},e.children[r].publicServiceId)}))),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{align:"center",children:" Public Service Accomplishments "}),(0,i.jsx)(I.Z,{unit:e.unit,position:e.position,children:e.name}),(0,i.jsx)("div",{role:"alert",id:"publicservicealert",style:{visibility:"hidden"}}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h5",{align:"center",children:"Within UP Manila "}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsx)("table",{className:"table table-striped table-sm",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Position/Role"}),(0,i.jsx)("th",{children:"Organization"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Start Date"}),(0,i.jsx)("th",{children:"End Date"}),(0,i.jsx)("th",{children:"Proof"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Approver Remarks"}),!e.viewFlag&&(0,i.jsx)("th",{children:"Action"})]}),p||(0,i.jsx)("td",{colSpan:"8",children:(0,i.jsx)("p",{align:"center",children:"No data available!"})})]})})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("br",{}),(0,i.jsx)("h5",{align:"center",children:" Contributions to Profession "}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsx)("table",{className:"table table-striped table-sm",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Position/Role"}),(0,i.jsx)("th",{children:"Organization"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Start Date"}),(0,i.jsx)("th",{children:"End Date"}),(0,i.jsx)("th",{children:"Proof"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Approver Remarks"}),!e.viewFlag&&(0,i.jsx)("th",{children:"Action"})]}),b||(0,i.jsx)("td",{colSpan:"8",children:(0,i.jsx)("p",{align:"center",children:"No data available!"})})]})})}),(0,i.jsx)("br",{}),(0,i.jsx)("h5",{align:"center",children:" Contributions to the Nation "}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsx)("table",{className:"table table-striped table-sm",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Position/Role"}),(0,i.jsx)("th",{children:"Organization"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Start Date"}),(0,i.jsx)("th",{children:"End Date"}),(0,i.jsx)("th",{children:"Proof"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Approver Remarks"}),!e.viewFlag&&(0,i.jsx)("th",{children:"Action"})]}),r||(0,i.jsx)("td",{colSpan:"8",children:(0,i.jsx)("p",{align:"center",children:"No data available!"})})]})})}),(0,i.jsx)("br",{}),(0,i.jsx)("h5",{align:"center",children:" Contributions to the World "}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsx)("table",{className:"table table-striped table-sm",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Position/Role"}),(0,i.jsx)("th",{children:"Organization"}),(0,i.jsx)("th",{children:"Description"}),(0,i.jsx)("th",{children:"Start Date"}),(0,i.jsx)("th",{children:"End Date"}),(0,i.jsx)("th",{children:"Proof"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Approver Remarks"}),!e.viewFlag&&(0,i.jsx)("th",{children:"Action"})]}),t||(0,i.jsx)("td",{colSpan:"8",children:(0,i.jsx)("p",{align:"center",children:"No data available!"})})]})})})]}),e.facultyFlag&&(0,i.jsx)("div",{children:(0,i.jsx)(w,{token:e.token})}),(0,i.jsx)("div",{className:"modal fade",id:"editPublicService",tabIndex:"-1",role:"dialog","aria-labelledby":"editPublicServiceLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"editPublicServiceLabel",children:"Update Public Service Accomplishment Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsx)(x.J9,{enableReinitialize:!0,initialValues:m,onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t){var a,s,l,i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("editPSForm"),(s=new FormData(a)).append("publicServiceId",m.publicServiceId),s.append("type",m.type),l=document.getElementById("publicservicealert"),r.next=7,F(s,e.token);case 7:1==(i=r.sent).success?(l.className="alert alert-success",l.style="visibility: visible",l.innerHTML=i.message):(l.className="alert alert-danger",i.error?l.innerHTML=i.error[0].message:l.innerHTML=i.message),$("#publicservicealert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicservicealert").slideUp(500)})),j.default.push("/faculty/accomplishment");case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"editPSForm",children:[(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicServicePositionUpdate",children:" Position/Role "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"position",id:"position",placeholder:"Input position/role"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceOrganizationUpdate",children:" Organization "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"organization",id:"organization",placeholder:"Input organization"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentStartDateUpdate",children:" Start Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"startDate",id:"startDate"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentEndDateUpdate",children:" End Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"endDate",id:"endDate"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group col-md-12",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentDescriptionUpdate",children:" Description "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"description",id:"description",placeholder:"Input description"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicServiceAccomplishmentProofUpdate",children:" Proof "}),(0,i.jsx)(x.gN,{type:"file",className:"form-control-file",name:"proof",id:"proof",value:void 0})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,onClick:function(){$("#editPublicService").modal("toggle")},children:"Save changes"})]})]})}})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"deletePublicService",tabIndex:"-1",role:"dialog","aria-labelledby":"deletePublicServiceLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"deletePublicServiceLabel",children:"Delete Public Service Accomplishment Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:" Are you sure you want to delete this public service accomplishment information? "})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"No, don't delete"}),(0,i.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:(0,s.Z)(n().mark((function r(){var t,s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=document.getElementById("publicservicealert"),r.next=3,R(a,e.token);case 3:1==(s=r.sent).success?(t.className="alert alert-success",t.style="visibility: visible",t.innerHTML=s.message):(t.className="alert alert-danger",s.error?t.innerHTML=s.error[0].message:t.innerHTML=s.message),$("#publicservicealert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicservicealert").slideUp(500)})),j.default.push("/faculty/accomplishment");case 7:case"end":return r.stop()}}),r)}))),children:"Yes, delete"})]})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"approvePublicService",tabIndex:"-1",role:"dialog","aria-labelledby":"approvePublicServiceLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"approvePublicServiceLabel",children:"Approve Public Service Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:" Are you sure you want to approve this public service information? "})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"No, don't approve"}),(0,i.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,s.Z)(n().mark((function r(){var t,a,s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=document.getElementById("publicservicealert"),$("#approvePublicService").modal("toggle"),(a=new FormData).append("publicServiceId",o),r.next=6,L(a,!0,e.facultyId,e.token);case 6:1==(s=r.sent).success?(t.className="alert alert-success",t.style="visibility: visible",t.innerHTML=s.message):(t.className="alert alert-danger",t.style="visibility: visible",s.error?t.innerHTML=s.error[0].message:t.innerHTML=s.message),$("#publicservicealert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicservicealert").slideUp(500)})),j.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 10:case"end":return r.stop()}}),r)}))),children:"Yes, approve"})]})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"rejectPublicService",tabIndex:"-1",role:"dialog","aria-labelledby":"rejectPublicServiceLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"rejectPublicServiceLabel",children:"Reject Public Service Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsx)(x.J9,{enableReinitialize:!0,initialValues:m,onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t){var a,s,l,i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("publicservicealert"),$("#rejectPublicService").modal("toggle"),s=document.getElementById("rejectPublicServiceForm"),(l=new FormData(s)).append("publicServiceId",o),r.next=7,L(l,!1,e.facultyId,e.token);case 7:1==(i=r.sent).success?(a.className="alert alert-success",a.style="visibility: visible",a.innerHTML=i.message):(a.className="alert alert-danger",a.style="visibility: visible",i.error?a.innerHTML=i.error[0].message:a.innerHTML=i.message),$("#publicservicealert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicservicealert").slideUp(500)})),j.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"rejectPublicServiceForm",children:[(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"RejectionRemarks",children:" Reason/Remarks for Rejection "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"approverRemarks",placeholder:"Input remarks",required:!0})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,onClick:function(){$("#rejectPublicService").modal("toggle")},children:"Save changes"})]})]})}})]})})})]})}},3270:function(e,r,t){"use strict";t.d(r,{Z:function(){return z}});var a=t(26265),n=t(809),s=t.n(n),l=t(92447),i=t(85893),c=t(64121),o=t(65988),d=(t(41664),t(74047)),u=t(52700),m=t(8127),h=t(58580),p=t(20775),f=t(67294),x=t(89609);function j(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,p.Z)(e);if(r){var n=(0,p.Z)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,h.Z)(this,t)}}var b=function(e){(0,m.Z)(t,e);var r=j(t);function t(e){var a;return(0,d.Z)(this,t),(a=r.call(this,e)).state={duplicateAuthors:[]},a}return(0,u.Z)(t,[{key:"render",value:function(){var e=this,r=Object.keys(this.props.faculty).map((function(r){return{value:e.props.faculty[r].facultyId,label:e.props.faculty[r].lastName+", "+e.props.faculty[r].firstName}}));return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group col-md-12",children:[(0,i.jsx)("label",{htmlFor:"PublicationAuthorDPSM[]",children:" Authors (from DPSM) "}),(0,i.jsx)(x.ZP,{className:"col-md-12",name:"PublicationAuthorDPSM[]",isMulti:!0,options:r})]})}),(0,i.jsx)("div",{children:this.state.duplicateAuthors})]})}}]),t}(f.Component),v=t(17513),y=t(11163),g=t(9669),N=t.n(g),k=t(49704),S=t.n(k);function w(e,r){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"===typeof e)return I(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,r)}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){i=!0,s=e},f:function(){try{l||null==t.return||t.return()}finally{if(i)throw s}}}}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function P(e,r){return R.apply(this,arguments)}function R(){return(R=(0,l.Z)(s().mark((function e(r,t){var a,n,l,i,c,o,d,u,m,h,p,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S().decode(t),n=a.facultyId,e.prev=2,!t){e.next=37;break}e.prev=4,l=[],i=w(r.entries());try{for(i.s();!(c=i.n()).done;)"PublicationAuthorDPSM[]"==(o=c.value)[0]&&o[1]!=n&&l.push(o[1])}catch(s){i.e(s)}finally{i.f()}return d=r.get("proof"),e.next=11,N()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/publication",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 11:return u=e.sent,(m=new FormData).append("facultyId",n),m.append("publicationId",u.data.result.publicationId),m.append("proof",d),e.next=18,N()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/publisher",data:m,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 18:e.sent,m.delete("proof"),h=0,p=l;case 21:if(!(h<p.length)){e.next=30;break}return f=p[h],m.set("facultyId",f),e.next=26,N()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/publisher",data:m,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 26:e.sent;case 27:h++,e.next=21;break;case 30:return e.abrupt("return",u.data);case 33:return e.prev=33,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 37:e.next=43;break;case 39:return e.prev=39,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 43:case"end":return e.stop()}}),e,null,[[2,39],[4,33]])})))).apply(this,arguments)}function D(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,p.Z)(e);if(r){var n=(0,p.Z)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,h.Z)(this,t)}}var F=function(e){(0,m.Z)(t,e);var r=D(t);function t(e){return(0,d.Z)(this,t),r.call(this,e)}return(0,u.Z)(t,[{key:"render",value:function(){var e=this;return(0,i.jsx)(v.J9,{initialValues:{title:"",citation:"",url:"",publicationDate:"",nonFacultyAuthors:""},onSubmit:function(){var r=(0,l.Z)(s().mark((function r(t,a){var n,l,i,c,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=a.resetForm,l=document.getElementById("pubForm"),i=new FormData(l),c=document.getElementById("publicationalert"),r.next=6,P(i,e.props.token);case 6:1==(o=r.sent).success?(c.className="alert alert-success",c.style="visibility: visible",c.innerHTML=o.message):(c.className="alert alert-danger",o.error?t.message=o.error[0].message:t.message=o.message),$("#publicationalert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicationalert").slideUp(500)})),n(),y.default.push("/faculty/accomplishment");case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),children:function(r){r.values,r.errors,r.touched;var t=r.isSubmitting;return(0,i.jsxs)(v.l0,{id:"pubForm",children:[(0,i.jsx)("hr",{className:"jsx-371132353"}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("h6",{className:"jsx-371132353",children:"Required"}),(0,i.jsxs)("div",{className:"jsx-371132353 form-row",children:[(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-6",children:[(0,i.jsx)("label",{htmlFor:"Publication[]",className:"jsx-371132353 required-label",children:" Publication "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"title",placeholder:"Input publication name/title",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-6",children:[(0,i.jsx)("label",{htmlFor:"PublicationCitation[]",className:"jsx-371132353 required-label",children:" Citation "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"citation",placeholder:"Input full citation for publication",required:!0})]})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-row",children:[(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-3",children:[(0,i.jsx)("label",{htmlFor:"PublicationURL[]",className:"jsx-371132353",children:" URL "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"url",placeholder:"Input publication URL"})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-3",children:[(0,i.jsx)("label",{htmlFor:"PublishDate[]",className:"jsx-371132353 required-label",children:" Date Published "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"publicationDate",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-3",children:[(0,i.jsx)("label",{htmlFor:"PublicationProof[]",className:"jsx-371132353 required-label",children:" Proof "}),(0,i.jsx)(v.gN,{type:"file",className:"form-control-file",name:"proof",id:"proof",required:!0})]})]}),(0,i.jsx)("div",{className:"jsx-371132353 form-row",children:(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-12",children:[(0,i.jsx)("label",{htmlFor:"PublicationAuthorNonDPSM[]",className:"jsx-371132353",children:" Authors (non-DPSM) "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"nonFacultyAuthors",placeholder:"Input all authors outside DPSM (separate names with commas)"})]})}),(0,i.jsx)("div",{className:"jsx-371132353",children:(0,i.jsx)(b,{faculty:e.props.faculty})}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("button",{type:"submit",disabled:t,className:"jsx-371132353 btn btn-primary col-md-12",children:"Submit"}),(0,i.jsx)(o.default,{id:"371132353",children:['label.required-label.jsx-371132353:after{content:"*";color:#f00;}','h6.jsx-371132353:before{content:"* ";color:#f00;}']})]})}})}}]),t}(f.Component),T=t(61588),L=t(72939);function A(e,r){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)(s().mark((function e(r,t){var a,n,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S().decode(t),n=a.facultyId,e.prev=2,!t){e.next=15;break}return e.prev=4,e.next=7,N().delete("http://localhost:3001/api/faculty/accomplishment/"+n+"/publisher",{headers:{Authorization:"Bearer ".concat(t)},data:{publicationId:"".concat(r)}});case 7:return l=e.sent,e.abrupt("return",l.data);case 11:return e.prev=11,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 21:case"end":return e.stop()}}),e,null,[[2,17],[4,11]])})))).apply(this,arguments)}function E(e,r){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"===typeof e)return O(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,r)}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){i=!0,s=e},f:function(){try{l||null==t.return||t.return()}finally{if(i)throw s}}}}function O(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function Z(e,r){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(s().mark((function e(r,t){var a,n,l,i,c,o,d,u,m,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S().decode(t),n=a.facultyId,e.prev=2,!t){e.next=56;break}return l="http://localhost:3001/api/faculty/accomplishment/"+n,{headers:{Authorization:"Bearer "+t}},""==r.get("proof")&&r.delete("proof"),e.next=9,N()({method:"PUT",url:l+"/publication",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 9:i=e.sent,o=E(r.entries()),e.prev=11,o.s();case 13:if((d=o.n()).done){e.next=25;break}if("add_auth"!=(u=d.value)[0]){e.next=23;break}return(c=new FormData).append("facultyId",u[1]),c.append("publicationId",r.get("publicationId")),c.append("status","Pending"),e.next=22,N()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/publisher",data:c,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 22:e.sent;case 23:e.next=13;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(11),o.e(e.t0);case 30:return e.prev=30,o.f(),e.finish(30);case 33:m=E(r.entries()),e.prev=34,m.s();case 36:if((h=m.n()).done){e.next=44;break}if("rem_auth"!=(u=h.value)[0]){e.next=42;break}return e.next=41,N().delete("http://localhost:3001/api/faculty/accomplishment/"+u[1]+"/publisher",{headers:{Authorization:"Bearer ".concat(t)},data:{publicationId:"".concat(r.get("publicationId"))}});case 41:e.sent;case 42:e.next=36;break;case 44:e.next=49;break;case 46:e.prev=46,e.t1=e.catch(34),m.e(e.t1);case 49:return e.prev=49,m.f(),e.finish(49);case 52:return console.log(i.data),e.abrupt("return",i.data);case 56:console.log(access.result.message);case 57:e.next=63;break;case 59:return e.prev=59,e.t2=e.catch(2),console.error(e.t2),e.abrupt("return",e.t2);case 63:case"end":return e.stop()}}),e,null,[[2,59],[11,27,30,33],[34,46,49,52]])})))).apply(this,arguments)}function M(e,r,t,a){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(s().mark((function e(r,t,a,n){var l,i,c,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=S().decode(n),t?2==l.role?i="Verified":3==l.role&&(i="Approved"):(i="Rejected",r.set("approverRemarks",l.name+": "+r.get("approverRemarks"))),r.append("status",i),e.prev=3,!n){e.next=17;break}return e.prev=5,c="http://localhost:3001/api/faculty/accomplishment/"+a,e.next=9,N()({method:"PUT",url:c+"/publisher",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(n)}});case 9:return o=e.sent,e.abrupt("return",o.data);case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),e.abrupt("return",e.t0);case 17:e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(3),console.error(e.t1),e.abrupt("return",e.t1);case 23:case"end":return e.stop()}}),e,null,[[3,19],[5,13]])})))).apply(this,arguments)}function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach((function(r){(0,a.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var z=function(e){var r,t,a=0,n=0,d=f.useState({publicationId:0,title:"",publicationDate:"",citation:"",url:"",nonFacultyAuthors:"",faculty_publishers:[],og_auth:[]}),u=(0,c.Z)(d,2),m=u[0],h=u[1];e.faculty&&(t=Object.keys(e.faculty).map((function(r){return{value:e.faculty[r].facultyId,label:e.faculty[r].lastName+", "+e.faculty[r].firstName}})));var p=[];function j(e){n=e}function b(e){return g.apply(this,arguments)}function g(){return(g=(0,l.Z)(s().mark((function r(a){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object.keys(e.children).map(function(){var r=(0,l.Z)(s().mark((function r(n){var i;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.children[n].publicationId!=a){r.next=6;break}return r.next=3,e.children[n].faculty_publishers.forEach(function(){var e=(0,l.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.forEach(function(){var e=(0,l.Z)(s().mark((function e(t,a){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.value!=r.facultyId){e.next=3;break}return e.next=3,p.push(t);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 3:return i={citation:e.children[n].citation,faculty_publishers:p,nonFacultyAuthors:e.children[n].nonFacultyAuthors,publicationDate:e.children[n].publicationDate,publicationId:e.children[n].publicationId,title:e.children[n].title,url:e.children[n].url,og_auth:p},r.next=6,h(i);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 2:return r.abrupt("return",p);case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return r=null!=e.children?Object.keys(e.children).map((function(r){var t=e.children[r].faculty_publishers,n=[];return t.forEach((function(r){var t=e.facultyFlag?"/faculty/view/"+r.facultyId:"/admin/"+r.facultyId;n.push((0,i.jsx)("a",{href:t,children:r.faculty_personal_info.firstName+" "+r.faculty_personal_info.lastName+", "}))})),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.children[r].title}),(0,i.jsxs)("td",{children:[n,e.children[r].nonFacultyAuthors]}),(0,i.jsx)("td",{children:e.children[r].publicationDate}),(0,i.jsx)("td",{children:e.children[r].url}),(0,i.jsx)("td",{children:e.children[r].citation}),(0,i.jsx)("td",{children:Object.keys(t).map((function(r){if(t[r].facultyId==e.facultyId)return t[r].proof?(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var a=t[r].proof;(0,L.Z)(a,e.token)},children:"Download"}),(0,i.jsx)("a",{className:"btn btn-info",href:"https://localhost:3001/uploads/"+t[r].proof,style:{color:"white"},target:"_blank",children:"Preview"})]}):(0,i.jsx)("div",{children:"None"})}))}),(0,i.jsx)("td",{children:Object.keys(t).map((function(r){if(t[r].facultyId==e.facultyId)return t[r].status}))}),(0,i.jsx)("td",{children:Object.keys(t).map((function(r){if(t[r].facultyId==e.facultyId)return t[r].approverRemarks||"None"}))}),(0,i.jsxs)("td",{children:[e.facultyFlag&&!e.viewFlag&&(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#editPublication",onClick:(0,l.Z)(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.children[r].publicationId,b(a);case 2:case"end":return t.stop()}var a}),t)}))),children:"Edit"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#deletePublication",onClick:function(){var t;t=e.children[r].publicationId,a=t},children:"Delete"})]}),!e.facultyFlag&&!e.viewFlag&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#approvePublication",onClick:function(){j(e.children[r].publicationId)},children:"Approve"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#rejectPublication",onClick:function(){j(e.children[r].publicationId)},children:"Reject"})]})]})]},e.children[r].publicationId)})):(0,i.jsx)("td",{colSpan:"7",children:(0,i.jsx)("p",{align:"center",children:"No data available!"})}),(0,i.jsxs)("div",{className:"jsx-3325321127",children:[(0,i.jsx)("h2",{align:"center",className:"jsx-3325321127",children:" Publications "}),(0,i.jsx)(T.Z,{unit:e.unit,position:e.position,children:e.name}),(0,i.jsx)("div",{role:"alert",id:"publicationalert",style:{visibility:"hidden"},className:"jsx-3325321127 alert alert-success"}),(0,i.jsx)("div",{className:"jsx-3325321127 table-responsive",children:(0,i.jsx)("table",{className:"jsx-3325321127 table table-striped table-sm",children:(0,i.jsxs)("tbody",{className:"jsx-3325321127",children:[(0,i.jsxs)("tr",{className:"jsx-3325321127",children:[(0,i.jsx)("th",{className:"jsx-3325321127 widen",children:"Publication"}),(0,i.jsx)("th",{className:"jsx-3325321127 widen",children:"Author/s"}),(0,i.jsx)("th",{className:"jsx-3325321127",children:"Publication Date"}),(0,i.jsx)("th",{className:"jsx-3325321127",children:"URL"}),(0,i.jsx)("th",{className:"jsx-3325321127 widen",children:"Citation"}),(0,i.jsx)("th",{className:"jsx-3325321127",children:"Proof"}),(0,i.jsx)("th",{className:"jsx-3325321127",children:"Status"}),(0,i.jsx)("th",{className:"jsx-3325321127",children:"Approver Remarks"}),!e.viewFlag&&(0,i.jsx)("th",{className:"jsx-3325321127",children:"Action"})]}),r]})})}),e.facultyFlag&&(0,i.jsx)("div",{className:"jsx-3325321127",children:(0,i.jsx)(F,{faculty:e.faculty,token:e.token})}),(0,i.jsx)("div",{id:"editPublication",tabIndex:"-1",role:"dialog","aria-labelledby":"editPublicationLabel","aria-hidden":"true",className:"jsx-3325321127 modal fade",children:(0,i.jsx)("div",{role:"document",className:"jsx-3325321127 modal-dialog",children:(0,i.jsxs)("div",{className:"jsx-3325321127 modal-content",children:[(0,i.jsxs)("div",{className:"jsx-3325321127 modal-header",children:[(0,i.jsx)("h5",{id:"editPublicationLabel",className:"jsx-3325321127 modal-title",children:"Update Publication Information"}),(0,i.jsx)("button",{type:"button","data-dismiss":"modal","aria-label":"Close",className:"jsx-3325321127 close",children:(0,i.jsx)("span",{"aria-hidden":"true",className:"jsx-3325321127",children:"\xd7"})})]}),(0,i.jsx)(v.J9,{enableReinitialize:!0,initialValues:m,onSubmit:function(){var r=(0,l.Z)(s().mark((function r(t){var a,n,l,i,c,o,d,u;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("editPubForm"),(n=new FormData(a)).append("publicationId",m.publicationId),l=document.getElementById("publicationalert"),i=[],m.og_auth.forEach((function(e){i.push(e.value)})),c=n.getAll("faculty_publishers").map((function(e){return Number(e)})),r.next=9,i.filter((function(e){return!c.includes(e)}));case 9:return o=r.sent,r.next=12,c.filter((function(e){return!i.includes(e)}));case 12:return(d=r.sent).length>0&&d.forEach((function(e){n.append("add_auth",e)})),o.length>0&&o.forEach((function(e){n.append("rem_auth",e)})),r.next=17,Z(n,e.token);case 17:1==(u=r.sent).success?(l.className="alert alert-success",l.style="visibility: visible",l.innerHTML=u.message):(l.className="alert alert-danger",u.error?l.innerHTML=u.error[0].message:l.innerHTML=u.message),$("#publicationalert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicationalert").slideUp(500)})),y.default.push("/faculty/accomplishment");case 21:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;e.setFieldValue;return(0,i.jsxs)(v.l0,{id:"editPubForm",children:[(0,i.jsxs)("div",{className:"jsx-3325321127 modal-body",children:[(0,i.jsx)("hr",{className:"jsx-3325321127"}),(0,i.jsx)("div",{className:"jsx-3325321127 form-row",children:(0,i.jsxs)("div",{className:"jsx-3325321127 form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicationUpdate",className:"jsx-3325321127",children:" Publication "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"title",placeholder:"Input publication name/title"})]})}),(0,i.jsx)("div",{className:"jsx-3325321127 form-row",children:(0,i.jsxs)("div",{className:"jsx-3325321127 form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicationCitationUpdate",className:"jsx-3325321127",children:" Citation "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"citation",placeholder:"Input full citation for publication"})]})}),(0,i.jsx)("div",{className:"jsx-3325321127 form-row",children:(0,i.jsxs)("div",{className:"jsx-3325321127 form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicationURLUpdate",className:"jsx-3325321127",children:" URL "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"url",placeholder:"Input publication URL"})]})}),(0,i.jsx)("div",{className:"jsx-3325321127 form-row",children:(0,i.jsxs)("div",{className:"jsx-3325321127 form-group",children:[(0,i.jsx)("label",{htmlFor:"PublishDateUpdate",className:"jsx-3325321127",children:" Date Published "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"publicationDate"})]})}),(0,i.jsx)("div",{className:"jsx-3325321127 form-row",children:(0,i.jsxs)("div",{className:"jsx-3325321127 form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicationAuthorDPSMUpdate",className:"jsx-3325321127",children:" Authors (DPSM) "}),(0,i.jsx)(x.ZP,{name:"faculty_publishers",isMulti:!0,options:t,value:m.faculty_publishers,onChange:function(e){return r=e,void h((function(e){return q(q({},e),{},{faculty_publishers:r})}));var r}})]})}),(0,i.jsx)("div",{className:"jsx-3325321127 form-row",children:(0,i.jsxs)("div",{className:"jsx-3325321127 form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicationAuthorNonDPSMUpdate",className:"jsx-3325321127",children:" Authors (non-DPSM) "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"nonFacultyAuthors",placeholder:"Input all authors outside DPSM (separate names with commas)"})]})}),(0,i.jsx)("div",{className:"jsx-3325321127 form-row",children:(0,i.jsxs)("div",{className:"jsx-3325321127 form-group",children:[(0,i.jsx)("label",{htmlFor:"PublicationProofUpdate",className:"jsx-3325321127",children:" Proof "}),(0,i.jsx)(v.gN,{type:"file",className:"form-control-file",name:"proof",value:void 0})]})})]}),(0,i.jsxs)("div",{className:"jsx-3325321127 modal-footer",children:[(0,i.jsx)("button",{type:"button","data-dismiss":"modal",className:"jsx-3325321127 btn btn-secondary",children:"Close"}),(0,i.jsx)("button",{type:"submit",disabled:r,onClick:function(){$("#editPublication").modal("toggle")},className:"jsx-3325321127 btn btn-primary",children:"Save changes"})]})]})}})]})})}),(0,i.jsx)("div",{id:"deletePublication",tabIndex:"-1",role:"dialog","aria-labelledby":"deletePublicationLabel","aria-hidden":"true",className:"jsx-3325321127 modal fade",children:(0,i.jsx)("div",{role:"document",className:"jsx-3325321127 modal-dialog",children:(0,i.jsxs)("div",{className:"jsx-3325321127 modal-content",children:[(0,i.jsxs)("div",{className:"jsx-3325321127 modal-header",children:[(0,i.jsx)("h5",{id:"deletePublicationLabel",className:"jsx-3325321127 modal-title",children:"Delete Publication Information"}),(0,i.jsx)("button",{type:"button","data-dismiss":"modal","aria-label":"Close",className:"jsx-3325321127 close",children:(0,i.jsx)("span",{"aria-hidden":"true",className:"jsx-3325321127",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"jsx-3325321127 modal-body",children:[(0,i.jsx)("hr",{className:"jsx-3325321127"}),(0,i.jsx)("p",{className:"jsx-3325321127",children:" Are you sure you want to delete this publication information? "})]}),(0,i.jsxs)("div",{className:"jsx-3325321127 modal-footer",children:[(0,i.jsx)("button",{type:"button","data-dismiss":"modal",className:"jsx-3325321127 btn btn-secondary",children:"No, don't delete"}),(0,i.jsx)("button",{type:"button","data-dismiss":"modal",onClick:(0,l.Z)(s().mark((function r(){var t,n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=document.getElementById("publicationalert"),r.next=3,A(a,e.token);case 3:1==(n=r.sent).success?(t.className="alert alert-success",t.style="visibility: visible",t.innerHTML=n.message):(t.className="alert alert-danger",n.error?t.innerHTML=n.error[0].message:t.innerHTML=n.message),$("#publicationalert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicationalert").slideUp(500)})),y.default.push("/faculty/accomplishment");case 7:case"end":return r.stop()}}),r)}))),className:"jsx-3325321127 btn btn-danger",children:"Yes, delete"})]})]})})}),(0,i.jsx)("div",{id:"approvePublication",tabIndex:"-1",role:"dialog","aria-labelledby":"approvePublicationLabel","aria-hidden":"true",className:"jsx-3325321127 modal fade",children:(0,i.jsx)("div",{role:"document",className:"jsx-3325321127 modal-dialog",children:(0,i.jsxs)("div",{className:"jsx-3325321127 modal-content",children:[(0,i.jsxs)("div",{className:"jsx-3325321127 modal-header",children:[(0,i.jsx)("h5",{id:"approvePublicationLabel",className:"jsx-3325321127 modal-title",children:"Approve Publication Information"}),(0,i.jsx)("button",{type:"button","data-dismiss":"modal","aria-label":"Close",className:"jsx-3325321127 close",children:(0,i.jsx)("span",{"aria-hidden":"true",className:"jsx-3325321127",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"jsx-3325321127 modal-body",children:[(0,i.jsx)("hr",{className:"jsx-3325321127"}),(0,i.jsx)("p",{className:"jsx-3325321127",children:" Are you sure you want to approve this publication information? "})]}),(0,i.jsxs)("div",{className:"jsx-3325321127 modal-footer",children:[(0,i.jsx)("button",{type:"button","data-dismiss":"modal",className:"jsx-3325321127 btn btn-secondary",children:"No, don't approve"}),(0,i.jsx)("button",{type:"button",onClick:(0,l.Z)(s().mark((function r(){var t,a,l;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=document.getElementById("publicationalert"),$("#approvePublication").modal("toggle"),(a=new FormData).append("publicationId",n),r.next=6,M(a,!0,e.facultyId,e.token);case 6:1==(l=r.sent).success?(t.className="alert alert-success",t.style="visibility: visible",t.innerHTML=l.message):(t.className="alert alert-danger",t.style="visibility: visible",l.error?t.innerHTML=l.error[0].message:t.innerHTML=l.message),$("#publicationalert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicationalert").slideUp(500)})),y.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 10:case"end":return r.stop()}}),r)}))),className:"jsx-3325321127 btn btn-danger",children:"Yes, approve"})]})]})})}),(0,i.jsx)("div",{id:"rejectPublication",tabIndex:"-1",role:"dialog","aria-labelledby":"rejectPublicationLabel","aria-hidden":"true",className:"jsx-3325321127 modal fade",children:(0,i.jsx)("div",{role:"document",className:"jsx-3325321127 modal-dialog",children:(0,i.jsxs)("div",{className:"jsx-3325321127 modal-content",children:[(0,i.jsxs)("div",{className:"jsx-3325321127 modal-header",children:[(0,i.jsx)("h5",{id:"rejectPublicationLabel",className:"jsx-3325321127 modal-title",children:"Reject Publication Information"}),(0,i.jsx)("button",{type:"button","data-dismiss":"modal","aria-label":"Close",className:"jsx-3325321127 close",children:(0,i.jsx)("span",{"aria-hidden":"true",className:"jsx-3325321127",children:"\xd7"})})]}),(0,i.jsx)(v.J9,{enableReinitialize:!0,initialValues:m,onSubmit:function(){var r=(0,l.Z)(s().mark((function r(t){var a,l,i,c;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("publicationalert"),$("#rejectPublication").modal("toggle"),l=document.getElementById("rejectPubForm"),(i=new FormData(l)).append("publicationId",n),r.next=7,M(i,!1,e.facultyId,e.token);case 7:1==(c=r.sent).success?(a.className="alert alert-success",a.style="visibility: visible",a.innerHTML=c.message):(a.className="alert alert-danger",a.style="visibility: visible",c.error?a.innerHTML=c.error[0].message:a.innerHTML=c.message),$("#publicationalert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicationalert").slideUp(500)})),y.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(v.l0,{id:"rejectPubForm",children:[(0,i.jsxs)("div",{className:"jsx-3325321127 modal-body",children:[(0,i.jsx)("hr",{className:"jsx-3325321127"}),(0,i.jsx)("div",{className:"jsx-3325321127 form-row",children:(0,i.jsxs)("div",{className:"jsx-3325321127 form-group",children:[(0,i.jsx)("label",{htmlFor:"RejectionRemarks",className:"jsx-3325321127",children:" Reason/Remarks for Rejection "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"approverRemarks",placeholder:"Input remarks",required:!0})]})})]}),(0,i.jsxs)("div",{className:"jsx-3325321127 modal-footer",children:[(0,i.jsx)("button",{type:"button","data-dismiss":"modal",className:"jsx-3325321127 btn btn-secondary",children:"Close"}),(0,i.jsx)("button",{type:"submit",disabled:r,onClick:function(){$("#rejectPublication").modal("toggle")},className:"jsx-3325321127 btn btn-primary",children:"Save changes"})]})]})}})]})})}),(0,i.jsx)(o.default,{id:"3325321127",children:["th.widen.jsx-3325321127{width:30%;}"]})]})}},19535:function(e,r,t){"use strict";t.d(r,{Z:function(){return z}});var a=t(809),n=t.n(a),s=t(26265),l=t(92447),i=t(85893),c=t(64121),o=(t(41664),t(74047)),d=t(52700),u=t(8127),m=t(58580),h=t(20775),p=t(65988),f=t(67294),x=t(89609);function j(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,h.Z)(e);if(r){var n=(0,h.Z)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,m.Z)(this,t)}}var b=function(e){(0,u.Z)(t,e);var r=j(t);function t(e){var a;return(0,o.Z)(this,t),(a=r.call(this,e)).state={duplicateAuthors:[]},a}return(0,d.Z)(t,[{key:"render",value:function(){var e=this,r=Object.keys(this.props.faculty).map((function(r){return{value:e.props.faculty[r].facultyId,label:e.props.faculty[r].lastName+", "+e.props.faculty[r].firstName}}));return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group col-md-6",children:[(0,i.jsx)("label",{htmlFor:"ResearchAuthorDPSM[]",children:" Researchers (from DPSM) "}),(0,i.jsx)(x.ZP,{className:"col-md-12",name:"ResearchAuthorDPSM[]",isMulti:!0,options:r,required:!0})]})}),(0,i.jsx)("div",{children:this.state.duplicateAuthors})]})}}]),t}(f.Component),v=t(17513),y=t(11163),g=t(9669),N=t.n(g),k=t(49704),S=t.n(k);function w(e,r){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"===typeof e)return I(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return I(e,r)}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){i=!0,s=e},f:function(){try{l||null==t.return||t.return()}finally{if(i)throw s}}}}function I(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function P(e,r){return R.apply(this,arguments)}function R(){return(R=(0,l.Z)(n().mark((function e(r,t){var a,s,l,i,c,o,d,u,m,h,p,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S().decode(t),s=a.facultyId,e.prev=2,!t){e.next=37;break}e.prev=4,l=[],i=w(r.entries());try{for(i.s();!(c=i.n()).done;)"ResearchAuthorDPSM[]"==(o=c.value)[0]&&o[1]!=s&&l.push(o[1])}catch(n){i.e(n)}finally{i.f()}return d=r.get("proof"),e.next=11,N()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/research-grant",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 11:return u=e.sent,(m=new FormData).append("facultyId",s),m.append("researchId",u.data.result.researchId),m.append("proof",d),e.next=18,N()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/researcher",data:m,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 18:e.sent,m.delete("proof"),h=0,p=l;case 21:if(!(h<p.length)){e.next=30;break}return f=p[h],m.set("facultyId",f),e.next=26,N()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/researcher",data:m,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 26:e.sent;case 27:h++,e.next=21;break;case 30:return e.abrupt("return",u.data);case 33:return e.prev=33,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 37:e.next=43;break;case 39:return e.prev=39,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 43:case"end":return e.stop()}}),e,null,[[2,39],[4,33]])})))).apply(this,arguments)}function D(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,h.Z)(e);if(r){var n=(0,h.Z)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,m.Z)(this,t)}}var F=function(e){(0,u.Z)(t,e);var r=D(t);function t(e){return(0,o.Z)(this,t),r.call(this,e)}return(0,d.Z)(t,[{key:"render",value:function(){var e=this;return(0,i.jsx)(v.J9,{initialValues:{researchName:"",granter:"",amount:"",projectedStart:"",projectedEnd:"",actualStart:"",actualEnd:"",researchProgress:"",nonFacultyResearchers:""},onSubmit:function(){var r=(0,l.Z)(n().mark((function r(t,a){var s,l,i,c,o;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=a.resetForm,l=document.getElementById("resForm"),i=new FormData(l),c=document.getElementById("researchalert"),r.next=6,P(i,e.props.token);case 6:1==(o=r.sent).success?(c.className="alert alert-success",c.style="visibility: visible",c.innerHTML=o.message):(c.className="alert alert-danger",o.error?t.message=o.error[0].message:t.message=o.message),$("#publicationalert").fadeTo(5e3,500).slideUp(500,(function(){$("#publicationalert").slideUp(500)})),s(),y.default.push("/faculty/accomplishment");case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),children:function(r){r.values,r.errors,r.touched;var t=r.isSubmitting;return(0,i.jsxs)(v.l0,{id:"resForm",children:[(0,i.jsx)("hr",{className:"jsx-371132353"}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("h6",{className:"jsx-371132353",children:"Required"}),(0,i.jsx)("div",{className:"jsx-371132353 form-row",children:(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-12",children:[(0,i.jsx)("label",{htmlFor:"Research[]",className:"jsx-371132353 required-label",children:" Research Project "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"researchName",placeholder:"Input research name",required:!0})]})}),(0,i.jsx)("div",{className:"jsx-371132353 form-row",children:(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-12",children:[(0,i.jsx)("label",{htmlFor:"ResearchSponsor[]",className:"jsx-371132353 required-label",children:" Sponsor "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"granter",placeholder:"Input sponsor",required:!0})]})}),(0,i.jsxs)("div",{className:"jsx-371132353 form-row",children:[(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-6",children:[(0,i.jsx)("label",{htmlFor:"ResearchAmount[]",className:"jsx-371132353 required-label",children:" Amount "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"amount",placeholder:"Input amount",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-6",children:[(0,i.jsx)("label",{htmlFor:"ResearchProof[]",className:"jsx-371132353 required-label",children:" Proof "}),(0,i.jsx)(v.gN,{type:"file",className:"form-control-file",name:"proof",id:"proof",required:!0})]})]}),(0,i.jsx)("div",{className:"jsx-371132353 form-row",children:(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-12",children:[(0,i.jsx)("label",{htmlFor:"ResearchAuthorNonDPSM[]",className:"jsx-371132353",children:" Researchers (non-DPSM) "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"nonFacultyResearchers",placeholder:"Input all authors outside DPSM (separate names with commas)"})]})}),(0,i.jsx)("div",{className:"jsx-371132353",children:(0,i.jsx)(b,{faculty:e.props.faculty})}),(0,i.jsxs)("div",{className:"jsx-371132353 form-row",children:[(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"ResearchProjectedStartDate[]",className:"jsx-371132353 required-label",children:" Start Date (Projected) "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"projectedStart",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"ResearchProjectedEndDate[]",className:"jsx-371132353 required-label",children:" End Date (Projected) "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"projectedEnd",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"ResearchStartDate[]",className:"jsx-371132353 required-label",children:" Start Date (Actual) "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"actualStart",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"ResearchEndDate[]",className:"jsx-371132353",children:" End Date (Actual) "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"actualEnd"})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"ResearchProgress[]",className:"jsx-371132353 required-label",children:" Research Progress "}),(0,i.jsxs)(v.gN,{as:"select",className:"form-control",name:"researchProgress",required:!0,children:[(0,i.jsx)("option",{value:"Ongoing",className:"jsx-371132353",children:"Ongoing"}),(0,i.jsx)("option",{value:"Completed",className:"jsx-371132353",children:"Completed"})]})]})]}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("button",{type:"submit",disabled:t,className:"jsx-371132353 btn btn-primary col-md-12",children:"Submit"}),(0,i.jsx)(p.default,{id:"371132353",children:['label.required-label.jsx-371132353:after{content:"*";color:#f00;}','h6.jsx-371132353:before{content:"* ";color:#f00;}']})]})}})}}]),t}(f.Component),T=t(61588),L=t(72939);function A(e,r){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)(n().mark((function e(r,t){var a,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S().decode(t),s=a.facultyId,e.prev=2,!t){e.next=15;break}return e.prev=4,e.next=7,N().delete("http://localhost:3001/api/faculty/accomplishment/"+s+"/researcher",{headers:{Authorization:"Bearer ".concat(t)},data:{researchId:"".concat(r)}});case 7:return l=e.sent,e.abrupt("return",l.data);case 11:return e.prev=11,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 21:case"end":return e.stop()}}),e,null,[[2,17],[4,11]])})))).apply(this,arguments)}function E(e,r){var t;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,r){if(!e)return;if("string"===typeof e)return O(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,r)}(e))||r&&e&&"number"===typeof e.length){t&&(e=t);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,i=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return l=e.done,e},e:function(e){i=!0,s=e},f:function(){try{l||null==t.return||t.return()}finally{if(i)throw s}}}}function O(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function Z(e,r){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(n().mark((function e(r,t){var a,s,l,i,c,o,d,u,m,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S().decode(t),s=a.facultyId,e.prev=2,!t){e.next=56;break}return l="http://localhost:3001/api/faculty/accomplishment/"+s,{headers:{Authorization:"Bearer "+t}},""==r.get("proof")&&r.delete("proof"),e.next=9,N()({method:"PUT",url:l+"/research-grant",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 9:i=e.sent,o=E(r.entries()),e.prev=11,o.s();case 13:if((d=o.n()).done){e.next=25;break}if("add_res"!=(u=d.value)[0]){e.next=23;break}return(c=new FormData).append("facultyId",u[1]),c.append("researchId",r.get("researchId")),c.append("status","Pending"),e.next=22,N()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/researcher",data:c,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 22:e.sent;case 23:e.next=13;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(11),o.e(e.t0);case 30:return e.prev=30,o.f(),e.finish(30);case 33:m=E(r.entries()),e.prev=34,m.s();case 36:if((h=m.n()).done){e.next=44;break}if("rem_res"!=(u=h.value)[0]){e.next=42;break}return e.next=41,N().delete("http://localhost:3001/api/faculty/accomplishment/"+u[1]+"/researcher",{headers:{Authorization:"Bearer ".concat(t)},data:{researchId:"".concat(r.get("researchId"))}});case 41:e.sent;case 42:e.next=36;break;case 44:e.next=49;break;case 46:e.prev=46,e.t1=e.catch(34),m.e(e.t1);case 49:return e.prev=49,m.f(),e.finish(49);case 52:return console.log(i.data),e.abrupt("return",i.data);case 56:console.log(access.result.message);case 57:e.next=63;break;case 59:return e.prev=59,e.t2=e.catch(2),console.error(e.t2),e.abrupt("return",e.t2);case 63:case"end":return e.stop()}}),e,null,[[2,59],[11,27,30,33],[34,46,49,52]])})))).apply(this,arguments)}function M(e,r,t,a){return B.apply(this,arguments)}function B(){return(B=(0,l.Z)(n().mark((function e(r,t,a,s){var l,i,c,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=S().decode(s),t?2==l.role?i="Verified":3==l.role&&(i="Approved"):(i="Rejected",r.set("approverRemarks",l.name+": "+r.get("approverRemarks"))),r.append("status",i),e.prev=3,!s){e.next=17;break}return e.prev=5,c="http://localhost:3001/api/faculty/accomplishment/"+a,e.next=9,N()({method:"PUT",url:c+"/researcher",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s)}});case 9:return o=e.sent,e.abrupt("return",o.data);case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),e.abrupt("return",e.t0);case 17:e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(3),console.error(e.t1),e.abrupt("return",e.t1);case 23:case"end":return e.stop()}}),e,null,[[3,19],[5,13]])})))).apply(this,arguments)}function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var z=function(e){var r,t,a=0,s=0,o=f.useState({researchId:0,researchName:"",granter:"",amount:"",projectedStart:"",projectedEnd:"",actualStart:"",actualEnd:"",researchProgress:"",nonFacultyResearchers:"",faculty_researchers:[],og_auth:[]}),d=(0,c.Z)(o,2),u=d[0],m=d[1];e.faculty&&(t=Object.keys(e.faculty).map((function(r){return{value:e.faculty[r].facultyId,label:e.faculty[r].lastName+", "+e.faculty[r].firstName}})));var h=[];function p(e){s=e}function j(){return(j=(0,l.Z)(n().mark((function r(a){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object.keys(e.children).map(function(){var r=(0,l.Z)(n().mark((function r(s){var i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.children[s].researchId!=a){r.next=6;break}return r.next=3,e.children[s].faculty_researchers.forEach(function(){var e=(0,l.Z)(n().mark((function e(r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.forEach(function(){var e=(0,l.Z)(n().mark((function e(t,a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.value!=r.facultyId){e.next=3;break}return e.next=3,h.push(t);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 3:return i={researchId:e.children[s].researchId,researchName:e.children[s].researchName,granter:e.children[s].granter,amount:e.children[s].amount,projectedStart:e.children[s].projectedStart,projectedEnd:e.children[s].projectedEnd,actualStart:e.children[s].actualStart,actualEnd:e.children[s].actualEnd,researchProgress:e.children[s].researchProgress,nonFacultyResearchers:e.children[s].nonFacultyResearchers,faculty_researchers:h,og_auth:h},r.next=6,m(i);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}());case 2:return r.abrupt("return",h);case 3:case"end":return r.stop()}}),r)})))).apply(this,arguments)}return r=null!=e.children?Object.keys(e.children).map((function(r){var t=e.children[r].faculty_researchers,n=[];if(t.forEach((function(r){var t=e.facultyFlag?"/faculty/view/"+r.facultyId:"/admin/"+r.facultyId;n.push((0,i.jsx)("a",{href:t,children:r.faculty_personal_info.firstName+" "+r.faculty_personal_info.lastName+", "}))})),null!=e.children[r].researchId)return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.children[r].researchName}),(0,i.jsxs)("td",{children:[n,e.children[r].nonFacultyResearchers]}),(0,i.jsx)("td",{children:e.children[r].granter}),(0,i.jsx)("td",{children:e.children[r].amount}),(0,i.jsxs)("td",{children:[e.children[r].projectedStart," to ",e.children[r].projectedEnd]}),(0,i.jsx)("td",{children:e.children[r].actualStart}),(0,i.jsx)("td",{children:e.children[r].actualEnd}),(0,i.jsx)("td",{children:e.children[r].researchProgress}),(0,i.jsx)("td",{children:Object.keys(t).map((function(r){if(t[r].facultyId==e.facultyId)return t[r].proof?(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var a=t[r].proof;(0,L.Z)(a,e.token)},children:"Download"}),(0,i.jsx)("a",{className:"btn btn-info",href:"http://localhost:3001/"+t[r].proof,style:{color:"white"},target:"_blank",children:"Preview"})]}):(0,i.jsx)("div",{children:"None"})}))}),(0,i.jsx)("td",{children:Object.keys(t).map((function(r){if(t[r].facultyId==e.facultyId)return t[r].status}))}),(0,i.jsx)("td",{children:Object.keys(t).map((function(r){if(t[r].facultyId==e.facultyId)return t[r].approverRemarks||"None"}))}),(0,i.jsxs)("td",{children:[e.facultyFlag&&!e.viewFlag&&(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#editResearchGrant",onClick:function(){var t;t=e.children[r].researchId,function(e){j.apply(this,arguments)}(t)},children:"Edit"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#deleteResearchGrant",onClick:function(){var t;t=e.children[r].researchId,a=t},children:"Delete"})]}),!e.facultyFlag&&!e.viewFlag&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#approveResearchGrant",onClick:function(){p(e.children[r].researchId)},children:"Approve"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#rejectResearchGrant",onClick:function(){p(e.children[r].researchId)},children:"Reject"})]})]})]})})):(0,i.jsx)("td",{colSpan:"10",children:(0,i.jsx)("p",{align:"center",children:"No data available!"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{align:"center",children:" Research Grants "}),(0,i.jsx)(T.Z,{unit:e.unit,position:e.position,children:e.name}),(0,i.jsx)("div",{className:"alert alert-success",role:"alert",id:"researchalert",style:{visibility:"hidden"}}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsx)("table",{className:"table table-striped table-sm",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Research Project"}),(0,i.jsx)("th",{children:"Researcher/s"}),(0,i.jsx)("th",{children:"Sponsor"}),(0,i.jsx)("th",{children:"Amount"}),(0,i.jsx)("th",{children:"Projected Duration"}),(0,i.jsx)("th",{children:"Start Date"}),(0,i.jsx)("th",{children:"End Date"}),(0,i.jsx)("th",{children:"Research Progress"}),(0,i.jsx)("th",{children:"Proof"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Approver Remarks"}),!e.viewFlag&&(0,i.jsx)("th",{children:"Action"})]}),r]})})}),e.facultyFlag&&(0,i.jsx)("div",{children:(0,i.jsx)(F,{faculty:e.faculty,token:e.token})}),(0,i.jsx)("div",{className:"modal fade",id:"editResearchGrant",tabIndex:"-1",role:"dialog","aria-labelledby":"editResearchGrantLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"editResearchGrantLabel",children:"Update Research Grant Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsx)(v.J9,{enableReinitialize:!0,initialValues:u,onSubmit:function(){var r=(0,l.Z)(n().mark((function r(t){var a,s,l,i,c,o,d,m;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("editResForm"),(s=new FormData(a)).append("researchId",u.researchId),l=document.getElementById("researchalert"),i=[],u.og_auth.forEach((function(e){i.push(e.value)})),c=s.getAll("faculty_researchers").map((function(e){return Number(e)})),r.next=9,i.filter((function(e){return!c.includes(e)}));case 9:return o=r.sent,r.next=12,c.filter((function(e){return!i.includes(e)}));case 12:return(d=r.sent).length>0&&d.forEach((function(e){s.append("add_res",e)})),o.length>0&&o.forEach((function(e){s.append("rem_res",e)})),r.next=17,Z(s,e.token);case 17:1==(m=r.sent).success?(l.className="alert alert-success",l.style="visibility: visible",l.innerHTML=m.message):(l.className="alert alert-danger",m.error?l.innerHTML=m.error[0].message:l.innerHTML=m.message),$("#researchalert").fadeTo(5e3,500).slideUp(500,(function(){$("#researchalert").slideUp(500)})),y.default.push("/faculty/accomplishment");case 21:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(v.l0,{id:"editResForm",children:[(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchUpdate",children:" Research Project "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"researchName",placeholder:"Input research name"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchSponsorUpdate",children:" Sponsor "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"granter",placeholder:"Input sponsor"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchAmountUpdate",children:" Amount "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"amount",placeholder:"Input amount"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchStartDateUpdate",children:" Start Date (Actual) "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"actualStart"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchEndDateUpdate",children:" End Date (Actual) "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"actualEnd"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchProjectedStartDateUpdate",children:" Start Date (Projected) "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"projectedStart"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchProjectedEndDateUpdate",children:" End Date (Projected) "}),(0,i.jsx)(v.gN,{type:"date",className:"form-control",name:"projectedEnd"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchProgressUpdate",children:" Progress "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"researchProgress",placeholder:"Input progress"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchAuthorDPSMUpdate",children:" Authors (DPSM) "}),(0,i.jsx)(x.ZP,{name:"faculty_researchers",isMulti:!0,options:t,value:u.faculty_researchers,onChange:function(e){return r=e,void m((function(e){return q(q({},e),{},{faculty_researchers:r})}));var r}})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchAuthorNonDPSMUpdate",children:" Authors (non-DPSM) "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"nonFacultyResearchers",placeholder:"Input all authors outside DPSM (separate names with commas)"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"ResearchProofUpdate",children:" Proof "}),(0,i.jsx)(v.gN,{type:"file",className:"form-control-file",name:"proof",value:void 0})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,onClick:function(){$("#editResearchGrant").modal("toggle")},children:"Save changes"})]})]})}})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"deleteResearchGrant",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteResearchGrantLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"deleteResearchGrantLabel",children:"Delete Research Grant Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:" Are you sure you want to delete this research grant information? "})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"No, don't delete"}),(0,i.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:(0,l.Z)(n().mark((function r(){var t,s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=document.getElementById("researchalert"),r.next=3,A(a,e.token);case 3:1==(s=r.sent).success?(t.className="alert alert-success",t.style="visibility: visible",t.innerHTML=s.message):(t.className="alert alert-danger",s.error?values.message=s.error[0].message:values.message=s.message),$("#researchalert").fadeTo(5e3,500).slideUp(500,(function(){$("#researchalert").slideUp(500)})),y.default.push("/faculty/accomplishment");case 7:case"end":return r.stop()}}),r)}))),children:"Yes, delete"})]})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"approveResearchGrant",tabIndex:"-1",role:"dialog","aria-labelledby":"approveResearchGrantLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"approveResearchGrantLabel",children:"Approve Research Grant Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:" Are you sure you want to approve this research grant information? "})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"No, don't approve"}),(0,i.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,l.Z)(n().mark((function r(){var t,a,l;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=document.getElementById("researchalert"),$("#approveResearchGrant").modal("toggle"),(a=new FormData).append("researchId",s),r.next=6,M(a,!0,e.facultyId,e.token);case 6:1==(l=r.sent).success?(t.className="alert alert-success",t.style="visibility: visible",t.innerHTML=l.message):(t.className="alert alert-danger",t.style="visibility: visible",l.error?t.innerHTML=l.error[0].message:t.innerHTML=l.message),$("#researchalert").fadeTo(5e3,500).slideUp(500,(function(){$("#researchalert").slideUp(500)})),y.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 10:case"end":return r.stop()}}),r)}))),children:"Yes, approve"})]})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"rejectResearchGrant",tabIndex:"-1",role:"dialog","aria-labelledby":"rejectResearchGrantLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"rejectResearchGrantLabel",children:"Reject Research Grant Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsx)(v.J9,{enableReinitialize:!0,initialValues:u,onSubmit:function(){var r=(0,l.Z)(n().mark((function r(t){var a,l,i,c;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("researchalert"),$("#rejectResearchGrant").modal("toggle"),l=document.getElementById("rejectRGForm"),(i=new FormData(l)).append("researchId",s),r.next=7,M(i,!1,e.facultyId,e.token);case 7:1==(c=r.sent).success?(a.className="alert alert-success",a.style="visibility: visible",a.innerHTML=c.message):(a.className="alert alert-danger",a.style="visibility: visible",c.error?a.innerHTML=c.error[0].message:a.innerHTML=c.message),$("#researchalert").fadeTo(5e3,500).slideUp(500,(function(){$("#researchalert").slideUp(500)})),y.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(v.l0,{id:"rejectRGForm",children:[(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"RejectionRemarks",children:" Reason/Remarks for Rejection "}),(0,i.jsx)(v.gN,{className:"form-control",type:"text",name:"approverRemarks",placeholder:"Input remarks",required:!0})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,onClick:function(){$("#rejectResearchGrant").modal("toggle")},children:"Save changes"})]})]})}})]})})})]})}},3851:function(e,r,t){"use strict";t.d(r,{Z:function(){return O}});var a=t(809),n=t.n(a),s=t(92447),l=t(26265),i=t(85893),c=t(64121),o=(t(41664),t(74047)),d=t(52700),u=t(8127),m=t(58580),h=t(20775),p=t(65988),f=t(67294),x=t(17513),j=t(11163),b=t(9669),v=t.n(b),y=t(49704),g=t.n(y);function N(e,r){return k.apply(this,arguments)}function k(){return(k=(0,s.Z)(n().mark((function e(r,t){var a,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=19;break}return e.prev=4,""==r.get("proof")&&r.delete("proof"),""==r.get("endDate")&&r.delete("endDate"),r.append("facultyId",s),r.append("status","Pending"),e.next=11,v()({method:"POST",url:"http://localhost:3001/api/faculty/accomplishment/add/training-seminar",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 11:return l=e.sent,e.abrupt("return",l.data);case 15:return e.prev=15,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 25:case"end":return e.stop()}}),e,null,[[2,21],[4,15]])})))).apply(this,arguments)}function S(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,a=(0,h.Z)(e);if(r){var n=(0,h.Z)(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return(0,m.Z)(this,t)}}var w=function(e){(0,u.Z)(t,e);var r=S(t);function t(e){return(0,o.Z)(this,t),r.call(this,e)}return(0,d.Z)(t,[{key:"render",value:function(){var e=this;return(0,i.jsx)(x.J9,{initialValues:{title:"",role:"",dateFrom:"",dateTo:"",venue:"",proof:""},onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t,a){var s,l,i,c,o;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=a.resetForm,l=document.getElementById("tsForm"),i=new FormData(l),c=document.getElementById("trainingseminaralert"),r.next=6,N(i,e.props.token);case 6:1==(o=r.sent).success?(c.className="alert alert-success",c.style="visibility: visible",c.innerHTML=o.message):(c.className="alert alert-danger",o.error?c.innerHTML=o.error[0].message:c.innerHTML=o.message),$("#trainingseminaralert").fadeTo(5e3,500).slideUp(500,(function(){$("#trainingseminaralert").slideUp(500)})),s(),j.default.push("/faculty/accomplishment");case 11:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"tsForm",children:[(0,i.jsx)("hr",{className:"jsx-371132353"}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("h6",{className:"jsx-371132353",children:"Required"}),(0,i.jsxs)("div",{className:"jsx-371132353 form-row",children:[(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-3",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminar[]",className:"jsx-371132353 required-label",children:" Name of Training/Seminar "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"title",id:"title",placeholder:"Input training/seminar",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-3",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarRole[]",className:"jsx-371132353 required-label",children:" Role"}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"role",id:"role",placeholder:"Input role in training/seminar",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarVenue[]",className:"jsx-371132353 required-label",children:" Venue "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"venue",id:"venue",placeholder:"Input venue",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarStartDate[]",className:"jsx-371132353 required-label",children:" Start Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"dateFrom",id:"dateFrom",required:!0})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-2",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarEndDate[]",className:"jsx-371132353",children:" End Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"dateTo",id:"dateTo"})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-8",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarRemarks[]",className:"jsx-371132353",children:" Remarks "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"remarks",id:"remarks",placeholder:"Input remarks"})]}),(0,i.jsxs)("div",{className:"jsx-371132353 form-group col-md-4",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarProof[]",className:"jsx-371132353 required-label",children:" Proof "}),(0,i.jsx)(x.gN,{type:"file",className:"form-control-file",name:"proof",id:"proof",required:!0})]})]}),(0,i.jsx)("br",{className:"jsx-371132353"}),(0,i.jsx)("button",{type:"submit",disabled:r,className:"jsx-371132353 btn btn-primary col-md-12",children:"Submit"}),(0,i.jsx)(p.default,{id:"371132353",children:['label.required-label.jsx-371132353:after{content:"*";color:#f00;}','h6.jsx-371132353:before{content:"* ";color:#f00;}']})]})}})}}]),t}(f.Component),I=t(61588),P=t(72939);function R(e,r){return D.apply(this,arguments)}function D(){return(D=(0,s.Z)(n().mark((function e(r,t){var a,s,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=15;break}return e.prev=4,e.next=7,v().delete("http://localhost:3001/api/faculty/accomplishment/"+s+"/training-seminar",{headers:{Authorization:"Bearer ".concat(t)},data:{tsId:"".concat(r)}});case 7:return l=e.sent,e.abrupt("return",l.data);case 11:return e.prev=11,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",e.t0);case 15:e.next=21;break;case 17:return e.prev=17,e.t1=e.catch(2),console.error(e.t1),e.abrupt("return",e.t1);case 21:case"end":return e.stop()}}),e,null,[[2,17],[4,11]])})))).apply(this,arguments)}function F(e,r){return T.apply(this,arguments)}function T(){return(T=(0,s.Z)(n().mark((function e(r,t){var a,s,l,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g().decode(t),s=a.facultyId,e.prev=2,!t){e.next=13;break}return l="http://localhost:3001/api/faculty/accomplishment/"+s,{headers:{Authorization:"Bearer "+t}},""==r.get("proof")&&r.delete("proof"),e.next=9,v()({method:"PUT",url:l+"/training-seminar",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}});case 9:return i=e.sent,e.abrupt("return",i.data);case 13:console.log(access.result.message);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))).apply(this,arguments)}function L(e,r,t,a){return A.apply(this,arguments)}function A(){return(A=(0,s.Z)(n().mark((function e(r,t,a,s){var l,i,c,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=g().decode(s),t?2==l.role?i="Verified":3==l.role&&(i="Approved"):(i="Rejected",r.set("approverRemarks",l.name+": "+r.get("approverRemarks"))),r.append("status",i),e.prev=3,!s){e.next=17;break}return e.prev=5,c="http://localhost:3001/api/faculty/accomplishment/"+a,e.next=9,v()({method:"PUT",url:c+"/training-seminar",data:r,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(s)}});case 9:return o=e.sent,e.abrupt("return",o.data);case 13:return e.prev=13,e.t0=e.catch(5),console.error(e.t0),e.abrupt("return",e.t0);case 17:e.next=23;break;case 19:return e.prev=19,e.t1=e.catch(3),console.error(e.t1),e.abrupt("return",e.t1);case 23:case"end":return e.stop()}}),e,null,[[3,19],[5,13]])})))).apply(this,arguments)}function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach((function(r){(0,l.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var O=function(e){e.name;var r,t=0,a=0,l=f.useState({tsId:0,role:"",title:"",dateFrom:"",dateTo:"",venue:"",remarks:"",proof:""}),o=(0,c.Z)(l,2),d=o[0],u=o[1];function m(e){a=e}return r=null!=e.children?Object.keys(e.children).map((function(r){if(null!=e.children[r].tsId)return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.children[r].title}),(0,i.jsx)("td",{children:e.children[r].role}),(0,i.jsx)("td",{children:e.children[r].venue}),(0,i.jsx)("td",{children:e.children[r].dateFrom}),(0,i.jsx)("td",{children:e.children[r].dateTo}),(0,i.jsx)("td",{children:e.children[r].remarks}),(0,i.jsxs)("td",{children:[e.children[r].proof&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){var t=e.children[r].proof;(0,P.Z)(t,e.token)},children:"Download"}),(0,i.jsx)("a",{className:"btn btn-info",href:"http://localhost:3001/"+e.children[r].proof,style:{color:"white"},target:"_blank",children:"Preview"})]}),!e.children[r].proof&&(0,i.jsx)("div",{children:"None"})]}),(0,i.jsx)("td",{children:e.children[r].status}),(0,i.jsx)("td",{children:e.children[r].approverRemarks||"None"}),(0,i.jsxs)("td",{children:[e.facultyFlag&&!e.viewFlag&&(0,i.jsxs)("div",{className:"btn-group",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#editTrainingSeminar",onClick:function(){var t,a;t=e.children[r].tsId,a=t,Object.keys(e.children).map((function(r){e.children[r].tsId==a&&(u(e.children[r]),""!=e.children[r].endDate&&null!=e.children[r].endDate||u((function(e){return E(E({},e),{},{endDate:""})})))}))},children:"Edit"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#deleteTrainingSeminar",onClick:function(){var a;a=e.children[r].tsId,t=a},children:"Delete"})]}),!e.facultyFlag&&!e.viewFlag&&(0,i.jsxs)("div",{className:"btn-grp",children:[(0,i.jsx)("a",{className:"btn btn-info","data-toggle":"modal","data-target":"#approveTrainingSeminar",onClick:function(){m(e.children[r].tsId)},children:"Approve"}),(0,i.jsx)("a",{className:"btn btn-danger","data-toggle":"modal","data-target":"#rejectTrainingSeminar",onClick:function(){m(e.children[r].tsId)},children:"Reject"})]})]})]},e.children[r].tsId)})):(0,i.jsx)("td",{colSpan:"9",children:(0,i.jsx)("p",{align:"center",children:"No data available!"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{align:"center",children:" Training/Seminars "}),(0,i.jsx)(I.Z,{unit:e.unit,position:e.position,children:e.name}),(0,i.jsx)("div",{role:"alert",id:"trainingseminaralert",style:{visibility:"hidden"}}),(0,i.jsx)("div",{className:"table-responsive",children:(0,i.jsx)("table",{className:"table table-striped table-sm",children:(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Name of Training/Seminar"}),(0,i.jsx)("th",{children:"Role"}),(0,i.jsx)("th",{children:"Venue"}),(0,i.jsx)("th",{children:"Start Date"}),(0,i.jsx)("th",{children:"End Date"}),(0,i.jsx)("th",{children:"Remarks"}),(0,i.jsx)("th",{children:"Proof"}),(0,i.jsx)("th",{children:"Status"}),(0,i.jsx)("th",{children:"Approver Remarks"}),!e.viewFlag&&(0,i.jsx)("th",{children:"Action"})]}),r]})})}),e.facultyFlag&&(0,i.jsx)("div",{children:(0,i.jsx)(w,{token:e.token})}),(0,i.jsx)("div",{className:"modal fade",id:"editTrainingSeminar",tabIndex:"-1",role:"dialog","aria-labelledby":"editTrainingSeminarLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"editTrainingSeminarLabel",children:"Update Training/Seminar Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsx)(x.J9,{enableReinitialize:!0,initialValues:d,onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t){var a,s,l,i;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=document.getElementById("editTSForm"),(s=new FormData(a)).append("tsId",d.tsId),l=document.getElementById("trainingseminaralert"),r.next=6,F(s,e.token);case 6:1==(i=r.sent).success?(l.className="alert alert-success",l.style="visibility: visible",l.innerHTML=i.message):(l.className="alert alert-danger",i.error?l.innerHTML=i.error[0].message:l.innerHTML=i.message),$("#trainingseminaralert").fadeTo(5e3,500).slideUp(500,(function(){$("#trainingseminaralert").slideUp(500)})),j.default.push("/faculty/accomplishment");case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"editTSForm",children:[(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarUpdate",children:" Name of Training/Seminar "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"title",id:"title",placeholder:"Input training/seminar"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarRoleUpdate",children:" Role "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"role",id:"role",placeholder:"Input role"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarVenueUpdate",children:" Venue "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"venue",id:"venue",placeholder:"Input venue"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarStartDateUpdate",children:" Start Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"dateFrom",id:"dateFrom"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarEndDateUpdate",children:" End Date "}),(0,i.jsx)(x.gN,{type:"date",className:"form-control",name:"dateTo",id:"dateTo"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarVenueUpdate",children:" Remarks "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"remarks",id:"remarks",placeholder:"Input remarks"})]})}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"TrainingSeminarProofUpdate",children:" Proof "}),(0,i.jsx)(x.gN,{type:"file",className:"form-control-file",name:"proof",id:"proof",value:void 0})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,onClick:function(){$("#editTrainingSeminar").modal("toggle")},children:"Save changes"})]})]})}})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"deleteTrainingSeminar",tabIndex:"-1",role:"dialog","aria-labelledby":"deleteTrainingSeminarLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"deleteTrainingSeminarLabel",children:"Delete Training/Seminar Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:" Are you sure you want to delete this training/seminar information? "})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"No, don't delete"}),(0,i.jsx)("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal",onClick:(0,s.Z)(n().mark((function r(){var a,s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return $("#deleteTrainingSeminar").modal("toggle"),a=document.getElementById("trainingseminaralert"),r.next=4,R(t,e.token);case 4:1==(s=r.sent).success?(a.className="alert alert-success",a.style="visibility: visible",a.innerHTML=s.message):(a.className="alert alert-danger",s.error?a.innerHTML=s.error[0].message:a.innerHTML=s.message),$("#trainingseminaralert").fadeTo(5e3,500).slideUp(500,(function(){$("#trainingseminaralert").slideUp(500)})),j.default.push("/faculty/accomplishment");case 8:case"end":return r.stop()}}),r)}))),children:"Yes, delete"})]})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"approveTrainingSeminar",tabIndex:"-1",role:"dialog","aria-labelledby":"approveTrainingSeminarLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"approveTrainingSeminarLabel",children:"Approve Training/Seminar Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("p",{children:" Are you sure you want to approve this training/seminar information? "})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"No, don't approve"}),(0,i.jsx)("button",{type:"button",className:"btn btn-danger",onClick:(0,s.Z)(n().mark((function r(){var t,s,l;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=document.getElementById("trainingseminaralert"),$("#approveTrainingSeminar").modal("toggle"),(s=new FormData).append("tsId",a),r.next=6,L(s,!0,e.facultyId,e.token);case 6:1==(l=r.sent).success?(t.className="alert alert-success",t.style="visibility: visible",t.innerHTML=l.message):(t.className="alert alert-danger",t.style="visibility: visible",l.error?t.innerHTML=l.error[0].message:t.innerHTML=l.message),$("#trainingseminaralert").fadeTo(5e3,500).slideUp(500,(function(){$("#trainingseminaralert").slideUp(500)})),j.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 10:case"end":return r.stop()}}),r)}))),children:"Yes, approve"})]})]})})}),(0,i.jsx)("div",{className:"modal fade",id:"rejectTrainingSeminar",tabIndex:"-1",role:"dialog","aria-labelledby":"rejectTrainingSeminarLabel","aria-hidden":"true",children:(0,i.jsx)("div",{className:"modal-dialog",role:"document",children:(0,i.jsxs)("div",{className:"modal-content",children:[(0,i.jsxs)("div",{className:"modal-header",children:[(0,i.jsx)("h5",{className:"modal-title",id:"rejectTrainingSeminarLabel",children:"Reject Training/Seminar Information"}),(0,i.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:(0,i.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),(0,i.jsx)(x.J9,{enableReinitialize:!0,initialValues:d,onSubmit:function(){var r=(0,s.Z)(n().mark((function r(t){var s,l,i,c;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=document.getElementById("trainingseminaralert"),$("#rejectTrainingSeminar").modal("toggle"),l=document.getElementById("rejectTrainingSeminarForm"),(i=new FormData(l)).append("tsId",a),r.next=7,L(i,!1,e.facultyId,e.token);case 7:1==(c=r.sent).success?(s.className="alert alert-success",s.style="visibility: visible",s.innerHTML=c.message):(s.className="alert alert-danger",s.style="visibility: visible",c.error?s.innerHTML=c.error[0].message:s.innerHTML=c.message),$("#trainingseminaralert").fadeTo(5e3,500).slideUp(500,(function(){$("#trainingseminaralert").slideUp(500)})),j.default.push("/faculty/approval/"+e.facultyId,"/faculty/approval/"+e.facultyId);case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var r=e.isSubmitting;return(0,i.jsxs)(x.l0,{id:"rejectTrainingSeminarForm",children:[(0,i.jsxs)("div",{className:"modal-body",children:[(0,i.jsx)("hr",{}),(0,i.jsx)("div",{className:"form-row",children:(0,i.jsxs)("div",{className:"form-group",children:[(0,i.jsx)("label",{htmlFor:"RejectionRemarks",children:" Reason/Remarks for Rejection "}),(0,i.jsx)(x.gN,{className:"form-control",type:"text",name:"approverRemarks",placeholder:"Input remarks",required:!0})]})})]}),(0,i.jsxs)("div",{className:"modal-footer",children:[(0,i.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"Close"}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,onClick:function(){$("#rejectTrainingSeminar").modal("toggle")},children:"Save changes"})]})]})}})]})})})]})}}}]);