(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{14176:function(e,t,s){"use strict";s(85893),s(9008),s(41664),s(37940)},81318:function(e,t,s){"use strict";s(85893),s(41664)},8237:function(e,t,s){"use strict";var a=s(85893),n=s(65988),i=s(41664);t.Z=function(e){var t="";switch(e.role){case 1:t="Faculty";break;case 2:t="Unit Head";break;case 3:t="Department Chair";break;default:t="Admin Clerk"}return(0,a.jsxs)("div",{className:"jsx-3546386183 row",children:[(0,a.jsxs)("nav",{className:"jsx-3546386183 navbar navbar-expand-lg",children:[(0,a.jsx)("span",{className:"jsx-3546386183 navbar-text",children:(0,a.jsx)("a",{className:"jsx-3546386183 navbar-brand",children:(0,a.jsx)("img",{src:"/dpsm-seal.png",width:"186",height:"150",alt:"DPSM-QA-Portal",className:"jsx-3546386183 d-inline-block align-top"})})}),(0,a.jsx)("h2",{className:"jsx-3546386183",children:" DPSM QA PORTAL "}),(0,a.jsx)("div",{className:"jsx-3546386183 ml-auto",children:(0,a.jsxs)("h5",{className:"jsx-3546386183",children:[" Currently Logged In: ",(0,a.jsx)(i.default,{href:"/settings/change-password",children:(0,a.jsxs)("a",{className:"jsx-3546386183",children:[" ",e.name," (",t,") "]})})," "]})})]}),(0,a.jsx)(n.default,{id:"3546386183",children:[".navbar.jsx-3546386183{background-color:#910303;width:100%;}","h2.jsx-3546386183,h5.jsx-3546386183{font-family:Georgia;color:#fff;}"]})]})}},97752:function(e,t,s){"use strict";var a=s(85893),n=s(9008),i=s(8237),r=s(37940);s(81318),s(14176),s(49704);t.Z=function(e){var t;return e.approvalList&&(t=e.approvalList),(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsxs)(n.default,{children:[(0,a.jsx)("title",{children:"DPSM-QA-PORTAL"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"}),(0,a.jsx)("script",{src:"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"}),(0,a.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"}),(0,a.jsx)("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"})]}),(0,a.jsx)(i.Z,{name:e.name,role:e.role}),(0,a.jsxs)("div",{className:"row",id:"layout_row",children:[(0,a.jsx)(r.Z,{role:e.role,approvalList:t,facultyId:e.facultyId,roleAssignment:e.roleAssignmentFlag}),(0,a.jsx)("div",{className:"col",id:"layout_content",children:e.children})]})]})}},61588:function(e,t,s){"use strict";var a=s(85893);t.Z=function(e){return null!=e.children?(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{align:"center",children:[" ",(0,a.jsx)("u",{children:e.children})," "]}),(0,a.jsxs)("h5",{align:"center",children:[" ",e.position,", ",e.unit," "]}),(0,a.jsx)("br",{})]}):(0,a.jsx)("div",{})}},37940:function(e,t,s){"use strict";var a=s(85893),n=s(64121),i=s(65988),r=s(41664),l=s(12102),c=s(67294),o=s(11163);t.Z=function(e){var t=(0,o.useRouter)(),s=(0,l.Z)(["user"]),u=(0,n.Z)(s,3),d=(u[0],u[1],u[2]),m=!0,p=!0;1!=e.role&&2!=e.role&&3!=e.role||(p=!1,2!=e.role&&3!=e.role||(m=!1));var h=(0,c.useState)("false"),j=h[0],f=h[1];return(0,a.jsxs)("div",{id:"sidebar",children:[(0,a.jsx)("div",{className:"alert alert-info col-12 d-md-none text-center",onClick:function(){f(!j)},children:" Main Menu "}),(0,a.jsxs)("div",{id:"menu",className:"jsx-1836586042 "+((j?null:"d-none d-md-block")||""),children:[(0,a.jsxs)("div",{className:"jsx-1836586042 list-group col-12",children:[(0,a.jsx)("a",{"data-toggle":"collapse","data-target":"#facultyMenu","aria-controls":"facultyMenu",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:" Faculty "}),(0,a.jsxs)("div",{id:"facultyMenu",className:"jsx-1836586042 collapse show",children:[!p&&!m&&(0,a.jsx)(r.default,{href:{pathname:"/faculty"},children:(0,a.jsx)("a",{id:"/faculty"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Dashboard"})}),!p&&(0,a.jsx)(r.default,{href:{pathname:"/faculty/basic-info"},children:(0,a.jsx)("a",{id:"/faculty/basic-info"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Basic Information"})}),!p&&(0,a.jsx)(r.default,{href:{pathname:"/faculty/accomplishment"},children:(0,a.jsx)("a",{id:"/faculty/accomplishment"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Accomplishment"})}),!p&&(0,a.jsx)(r.default,{href:{pathname:"/faculty/faculty-load"},children:(0,a.jsx)("a",{id:"/faculty/faculty-load"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Faculty Load"})}),!p&&!m&&(0,a.jsx)(r.default,{href:{pathname:"/faculty/view/all"},children:(0,a.jsx)("a",{id:"/faculty/view/all"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:"Faculty List"})}),!p&&!m&&(0,a.jsx)(r.default,{href:{pathname:"/faculty/approval"},children:(0,a.jsxs)("a",{id:"/faculty/approval"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:["Pending Approvals \xa0",e.approvalList.facultyCount>0&&(0,a.jsx)("span",{className:"jsx-1836586042 badge badge-danger",children:e.approvalList.facultyCount})]})}),p&&(0,a.jsx)(r.default,{href:{pathname:"/admin"},children:(0,a.jsx)("a",{id:"/admin"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:"Faculty List"})}),!p&&!m&&e.roleAssignment&&(0,a.jsx)(r.default,{href:{pathname:"/faculty/role-assignment"},children:(0,a.jsxs)("a",{id:"/faculty/role-assignment"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:["Role Assignment \xa0",(0,a.jsx)("span",{className:"jsx-1836586042 badge badge-danger",children:"!"})]})}),!p&&!m&&!e.roleAssignment&&(0,a.jsx)(r.default,{href:{pathname:"/faculty/role-assignment"},children:(0,a.jsx)("a",{id:"/faculty/role-assignment"===t.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Role Assignment"})})]})]}),(0,a.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,a.jsx)(r.default,{href:"/login",children:(0,a.jsx)("a",{onClick:function(){d("user")},className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-danger",children:"Log Out"})})}),(0,a.jsx)(i.default,{id:"1836586042",children:["#menu.jsx-1836586042{background-color:#017823;}",".list-group-item-success.jsx-1836586042{text-indent:20%;}","#active.jsx-1836586042{background-color:#005919;color:#fff;}"]})]})]})}},24750:function(e,t,s){"use strict";s.d(t,{j:function(){return r},B:function(){return l}});var a=s(76489),n=s(49704),i=s.n(n);function r(e){return a.parse(e?e.headers.cookie||"":document.cookie)}function l(e){var t=i().decode(e),s=(new Date).getTime()/1e3;return t&&t.exp<s}},93275:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(809),n=s.n(a),i=s(92447),r=s(85893),l=s(65988),c=s(97752);var o=function(){return(0,r.jsxs)("div",{children:[(0,r.jsx)("h5",{children:" Your Grade: "})," 1.75"]})},u=s(61588),d=(s(41664),s(49704)),m=s.n(d),p=s(24750);function h(e){return(0,r.jsxs)(c.Z,{userId:e.data.userId,facultyId:e.data.facultyId,role:e.data.role,name:e.data.name,approvalList:e.approvalList,roleAssignmentFlag:e.roleAssignmentFlag,children:[(0,r.jsx)("br",{className:"jsx-2736030063"}),(0,r.jsx)("h2",{align:"center",className:"jsx-2736030063",children:" Peer Evaluation "}),(0,r.jsx)(u.Z,{}),(0,r.jsxs)("div",{className:"jsx-2736030063 list-group",children:[(0,r.jsx)("a",{href:"#evaluation_ay20202021","data-toggle":"collapse","aria-controls":"evaluation_ay20202021",className:"jsx-2736030063 list-group-item list-group-item-action list-group-item-secondary",children:"AY 2020-2021"}),(0,r.jsx)("div",{id:"evaluation_ay20202021",className:"jsx-2736030063 jumbotron collapse",children:(0,r.jsx)(o,{})}),(0,r.jsx)("a",{href:"#evaluation_ay20192020","data-toggle":"collapse","aria-controls":"evaluation_ay20192020",className:"jsx-2736030063 list-group-item list-group-item-action list-group-item-secondary",children:"AY 2019-2020"}),(0,r.jsx)("div",{id:"evaluation_ay20192020",className:"jsx-2736030063 jumbotron collapse",children:(0,r.jsx)(o,{})}),(0,r.jsx)("a",{href:"#evaluation_ay20182019","data-toggle":"collapse","aria-controls":"evaluation_ay20182019",className:"jsx-2736030063 list-group-item list-group-item-action list-group-item-secondary",children:"AY 2018-2019"}),(0,r.jsx)("div",{id:"evaluation_ay20182019",className:"jsx-2736030063 jumbotron collapse",children:(0,r.jsx)(o,{})})]}),(0,r.jsx)(l.default,{id:"2736030063",children:[".list-group-item-info.jsx-2736030063{text-indent:5%;}"]})]})}h.getInitialProps=function(){var e=(0,i.Z)(n().mark((function e(t){var s,a,i,r,l,c,o,u,d,h,j,f,x,g,v;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.req,a=t.res,i=(0,p.j)(s),a&&((0,p.B)(i.user)||0===Object.keys(i).length&&i.constructor===Object)&&(a.writeHead(301,{Location:"/login"}),a.end()),r=m().decode(i.user),l=r.facultyId,c={headers:{Authorization:"Bearer "+i.user}},e.next=8,fetch("http://localhost:3001/api/faculty/basic-info/"+l,c);case 8:return o=e.sent,e.next=11,o.json();case 11:if(u=e.sent,d=!1,j="http://localhost:3001/api/faculty/approval/"+l,f="http://localhost:3001/api/faculty/basic-info/unit/assignment",2!=r.role&&3!=r.role){e.next=34;break}return 2==r.role&&(j+="?unitId="+r.unitId,f+="?unitId="+r.unitId),e.next=19,fetch(j,c);case 19:return x=e.sent,e.next=22,x.json();case 22:return h=(h=e.sent).result,e.next=26,fetch(f,c);case 26:return g=e.sent,e.next=29,g.json();case 29:v=(v=e.sent).result,2==r.role?null!=v.approverRemarks&&(d=!0):3==r.role&&v&&(d=!0),e.next=35;break;case 34:1==r.role&&(h=null);case 35:return e.abrupt("return",{data:r,personalInfo:u.result,approvalList:h,roleAssignmentFlag:d});case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var j=h},52405:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/faculty/evaluation",function(){return s(93275)}])},92447:function(e,t,s){"use strict";function a(e,t,s,a,n,i,r){try{var l=e[i](r),c=l.value}catch(o){return void s(o)}l.done?t(c):Promise.resolve(c).then(a,n)}function n(e){return function(){var t=this,s=arguments;return new Promise((function(n,i){var r=e.apply(t,s);function l(e){a(r,n,i,l,c,"next",e)}function c(e){a(r,n,i,l,c,"throw",e)}l(void 0)}))}}s.d(t,{Z:function(){return n}})},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[383,704,774,888,179],(function(){return t=52405,e(e.s=t);var t}));var t=e.O();_N_E=t}]);