(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{76133:function(s,e,a){"use strict";a.r(e);var t=a(809),r=a.n(t),l=a(92447),n=a(85893),o=a(64121),i=a(65988),c=(a(41664),a(9008)),d=a(17513),m=a(9669),x=a.n(m),j=a(11163),u=a(49704),h=a.n(u),p=a(12102);e.default=function(){var s="",e=(0,p.Z)(["user"]),a=(0,o.Z)(e,2),t=(a[0],a[1]);return(0,n.jsxs)("div",{style:{backgroundImage:"url(../kbblur.jpg)"},className:"jsx-3143505194 d-flex justify-content-center",children:[(0,n.jsxs)(c.default,{children:[(0,n.jsx)("title",{className:"jsx-3143505194",children:"DPSM-QA-PORTAL"}),(0,n.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css",className:"jsx-3143505194"}),(0,n.jsx)("script",{src:"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js",className:"jsx-3143505194"}),(0,n.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js",className:"jsx-3143505194"}),(0,n.jsx)("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js",className:"jsx-3143505194"})]}),(0,n.jsxs)("div",{id:"logo",className:"jsx-3143505194 jumbotron",children:[(0,n.jsx)("h3",{className:"jsx-3143505194",children:" DPSM QA PORTAL "}),(0,n.jsx)("br",{className:"jsx-3143505194"}),(0,n.jsx)("br",{className:"jsx-3143505194"}),(0,n.jsx)("center",{className:"jsx-3143505194",children:(0,n.jsx)("img",{src:"/dpsm-seal.png",width:"142",height:"115",alt:"DPSM-QA-Portal",className:"jsx-3143505194"})}),(0,n.jsx)("br",{className:"jsx-3143505194"}),(0,n.jsx)("br",{className:"jsx-3143505194"})]}),(0,n.jsx)("div",{id:"login",className:"jsx-3143505194 jumbotron",children:(0,n.jsx)(d.J9,{initialValues:{username:"",password:""},onSubmit:function(){var e=(0,l.Z)(r().mark((function e(a){var l,n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=null,e.next=4,x().post("http://localhost:3001/api/login",{upemail:"".concat(a.username),password:"".concat(a.password)});case 4:(n=e.sent).data.success?(t("user",n.data.result.token,{path:"/",maxAge:3600,sameSite:!0}),l=h().decode(n.data.result.token),1==(o=l.role)?j.default.push("/faculty/basic-info"):2==o||3==o?j.default.push("/faculty"):5==o&&j.default.push("/admin")):window.alert("something wrong"),e.next=17;break;case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0.response.data.errors[0].message),s=e.t0.response.data.errors[0].message,document.getElementById("alert").setAttribute("style","visibility: visible"),a.username="",a.password="",e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(s){return e.apply(this,arguments)}}(),children:function(e){e.values,e.errors,e.touched;var a=e.isSubmitting;return(0,n.jsxs)(d.l0,{action:"",children:[(0,n.jsx)("div",{role:"alert",id:"alert",className:"jsx-3143505194 alert alert-danger",children:s}),(0,n.jsx)("label",{htmlFor:"email",className:"jsx-3143505194",children:"UP Email:"}),(0,n.jsx)(d.gN,{className:"form-control",type:"text",id:"username",name:"username"}),(0,n.jsx)("label",{htmlFor:"password",className:"jsx-3143505194",children:"Password:"}),(0,n.jsx)(d.gN,{className:"form-control",type:"password",id:"password",name:"password"}),(0,n.jsx)("br",{className:"jsx-3143505194"}),(0,n.jsx)("a",{href:"#","data-toggle":"modal","data-target":"#forgot-password",className:"jsx-3143505194",children:"Forgot Password?"}),(0,n.jsx)("br",{className:"jsx-3143505194"}),(0,n.jsx)("br",{className:"jsx-3143505194"}),(0,n.jsx)("button",{type:"submit",disabled:a,className:"jsx-3143505194 btn btn-primary",children:"Submit"})]})}})}),(0,n.jsx)("div",{id:"forgot-password",tabIndex:"-1",role:"dialog","aria-labelledby":"forgotPasswordLabel","aria-hidden":"true",className:"jsx-3143505194 modal fade",children:(0,n.jsx)("div",{role:"document",className:"jsx-3143505194 modal-dialog",children:(0,n.jsxs)("div",{className:"jsx-3143505194 modal-content",children:[(0,n.jsxs)("div",{className:"jsx-3143505194 modal-header",children:[(0,n.jsx)("h5",{id:"forgotPasswordLabel",className:"jsx-3143505194 modal-title",children:"Forgot Password?"}),(0,n.jsx)("button",{type:"button","data-dismiss":"modal","aria-label":"Close",className:"jsx-3143505194 close",children:(0,n.jsx)("span",{"aria-hidden":"true",className:"jsx-3143505194",children:"\xd7"})})]}),(0,n.jsxs)("div",{className:"jsx-3143505194 modal-body",children:[(0,n.jsx)("p",{className:"jsx-3143505194",children:" Input the UP Mail account associated with your account for the DPSM QA Portal here. Clicking 'submit' will send an email containing your login credentials for this application "}),(0,n.jsxs)("form",{className:"jsx-3143505194",children:[(0,n.jsx)("hr",{className:"jsx-3143505194"}),(0,n.jsx)("div",{className:"jsx-3143505194 form-row",children:(0,n.jsxs)("div",{className:"jsx-3143505194 form-group",children:[(0,n.jsx)("label",{htmlFor:"recovery-email",id:"recovery-email",className:"jsx-3143505194",children:" UP Mail Account "}),(0,n.jsx)("input",{type:"email",name:"recovery-email",placeholder:"Input UP Mail account",required:!0,className:"jsx-3143505194 form-control col-md-12"})]})})]})]}),(0,n.jsxs)("div",{className:"jsx-3143505194 modal-footer",children:[(0,n.jsx)("button",{type:"button","data-dismiss":"modal",className:"jsx-3143505194 btn btn-secondary",children:"Close"}),(0,n.jsx)("button",{type:"button",className:"jsx-3143505194 btn btn-primary",children:"Submit"})]})]})})}),(0,n.jsx)(i.default,{id:"3143505194",children:[".d-flex.jsx-3143505194{min-height:100%;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}",".jumbotron#login.jsx-3143505194{background-color:#600;}",".jumbotron#logo.jsx-3143505194{background-color:#01942b;}","label.jsx-3143505194{color:#fff;}","#alert.jsx-3143505194{visibility:hidden;}"]})]})}},7156:function(s,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(76133)}])},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){}},function(s){s.O(0,[383,704,321,513,774,888,179],(function(){return e=7156,s(s.s=e);var e}));var e=s.O();_N_E=e}]);