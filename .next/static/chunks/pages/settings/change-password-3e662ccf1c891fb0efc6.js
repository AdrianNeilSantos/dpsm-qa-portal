(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{14176:function(e,s,a){"use strict";a(85893),a(9008),a(41664),a(37940)},81318:function(e,s,a){"use strict";a(85893),a(41664)},8237:function(e,s,a){"use strict";var t=a(85893),r=a(65988),n=a(41664);s.Z=function(e){var s="";switch(e.role){case 1:s="Faculty";break;case 2:s="Unit Head";break;case 3:s="Department Chair";break;default:s="Admin Clerk"}return(0,t.jsxs)("div",{className:"jsx-3546386183 row",children:[(0,t.jsxs)("nav",{className:"jsx-3546386183 navbar navbar-expand-lg",children:[(0,t.jsx)("span",{className:"jsx-3546386183 navbar-text",children:(0,t.jsx)("a",{className:"jsx-3546386183 navbar-brand",children:(0,t.jsx)("img",{src:"/dpsm-seal.png",width:"186",height:"150",alt:"DPSM-QA-Portal",className:"jsx-3546386183 d-inline-block align-top"})})}),(0,t.jsx)("h2",{className:"jsx-3546386183",children:" DPSM QA PORTAL "}),(0,t.jsx)("div",{className:"jsx-3546386183 ml-auto",children:(0,t.jsxs)("h5",{className:"jsx-3546386183",children:[" Currently Logged In: ",(0,t.jsx)(n.default,{href:"/settings/change-password",children:(0,t.jsxs)("a",{className:"jsx-3546386183",children:[" ",e.name," (",s,") "]})})," "]})})]}),(0,t.jsx)(r.default,{id:"3546386183",children:[".navbar.jsx-3546386183{background-color:#910303;width:100%;}","h2.jsx-3546386183,h5.jsx-3546386183{font-family:Georgia;color:#fff;}"]})]})}},97752:function(e,s,a){"use strict";var t=a(85893),r=a(9008),n=a(8237),i=a(37940);a(81318),a(14176),a(49704);s.Z=function(e){var s;return e.approvalList&&(s=e.approvalList),(0,t.jsxs)("div",{className:"container-fluid",children:[(0,t.jsxs)(r.default,{children:[(0,t.jsx)("title",{children:"DPSM-QA-PORTAL"}),(0,t.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"}),(0,t.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"}),(0,t.jsx)("script",{src:"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"}),(0,t.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"}),(0,t.jsx)("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"})]}),(0,t.jsx)(n.Z,{name:e.name,role:e.role}),(0,t.jsxs)("div",{className:"row",id:"layout_row",children:[(0,t.jsx)(i.Z,{role:e.role,approvalList:s,facultyId:e.facultyId,roleAssignment:e.roleAssignmentFlag}),(0,t.jsx)("div",{className:"col",id:"layout_content",children:e.children})]})]})}},37940:function(e,s,a){"use strict";var t=a(85893),r=a(64121),n=a(65988),i=a(41664),l=a(12102),c=a(67294),o=a(11163);s.Z=function(e){var s=(0,o.useRouter)(),a=(0,l.Z)(["user"]),u=(0,r.Z)(a,3),d=(u[0],u[1],u[2]),p=!0,m=!0;1!=e.role&&2!=e.role&&3!=e.role||(m=!1,2!=e.role&&3!=e.role||(p=!1));var h=(0,c.useState)("false"),f=h[0],x=h[1];return(0,t.jsxs)("div",{id:"sidebar",children:[(0,t.jsx)("div",{className:"alert alert-info col-12 d-md-none text-center",onClick:function(){x(!f)},children:" Main Menu "}),(0,t.jsxs)("div",{id:"menu",className:"jsx-1836586042 "+((f?null:"d-none d-md-block")||""),children:[(0,t.jsxs)("div",{className:"jsx-1836586042 list-group col-12",children:[(0,t.jsx)("a",{"data-toggle":"collapse","data-target":"#facultyMenu","aria-controls":"facultyMenu",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:" Faculty "}),(0,t.jsxs)("div",{id:"facultyMenu",className:"jsx-1836586042 collapse show",children:[!m&&!p&&(0,t.jsx)(i.default,{href:{pathname:"/faculty"},children:(0,t.jsx)("a",{id:"/faculty"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Dashboard"})}),!m&&(0,t.jsx)(i.default,{href:{pathname:"/faculty/basic-info"},children:(0,t.jsx)("a",{id:"/faculty/basic-info"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Basic Information"})}),!m&&(0,t.jsx)(i.default,{href:{pathname:"/faculty/accomplishment"},children:(0,t.jsx)("a",{id:"/faculty/accomplishment"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Accomplishment"})}),!m&&(0,t.jsx)(i.default,{href:{pathname:"/faculty/faculty-load"},children:(0,t.jsx)("a",{id:"/faculty/faculty-load"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Faculty Load"})}),!m&&(0,t.jsx)(i.default,{href:{pathname:"/faculty/evaluation"},children:(0,t.jsx)("a",{id:"/faculty/evaluation"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:"Peer Evaluation"})}),!m&&!p&&(0,t.jsx)(i.default,{href:{pathname:"/faculty/view/all"},children:(0,t.jsx)("a",{id:"/faculty/view/all"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:"Faculty List"})}),!m&&!p&&(0,t.jsx)(i.default,{href:{pathname:"/faculty/approval"},children:(0,t.jsxs)("a",{id:"/faculty/approval"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:["Pending Approvals \xa0",e.approvalList.facultyCount>0&&(0,t.jsx)("span",{className:"jsx-1836586042 badge badge-danger",children:e.approvalList.facultyCount})]})}),m&&(0,t.jsx)(i.default,{href:{pathname:"/admin"},children:(0,t.jsx)("a",{id:"/admin"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:"Faculty List"})}),!m&&!p&&e.roleAssignment&&(0,t.jsx)(i.default,{href:{pathname:"/faculty/role-assignment"},children:(0,t.jsxs)("a",{id:"/faculty/role-assignment"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:["Role Assignment \xa0",(0,t.jsx)("span",{className:"jsx-1836586042 badge badge-danger",children:"!"})]})}),!m&&!p&&!e.roleAssignment&&(0,t.jsx)(i.default,{href:{pathname:"/faculty/role-assignment"},children:(0,t.jsx)("a",{id:"/faculty/role-assignment"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Role Assignment"})})]})]}),(0,t.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,t.jsx)(i.default,{href:"/student",children:(0,t.jsx)("a",{className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:"Student"})})}),(0,t.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,t.jsx)(i.default,{href:"/alumni",children:(0,t.jsx)("a",{className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:"Alumni"})})}),(0,t.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,t.jsx)(i.default,{href:"/department-activities",children:(0,t.jsx)("a",{className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:"Department Activities"})})}),(0,t.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,t.jsx)(i.default,{href:"/login",children:(0,t.jsx)("a",{onClick:function(){d("user")},className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-danger",children:"Log Out"})})}),(0,t.jsx)(n.default,{id:"1836586042",children:["#menu.jsx-1836586042{background-color:#017823;}",".list-group-item-success.jsx-1836586042{text-indent:20%;}","#active.jsx-1836586042{background-color:#005919;color:#fff;}"]})]})]})}},29610:function(e,s,a){"use strict";a.r(s),a.d(s,{__N_SSP:function(){return j},default:function(){return g}});var t=a(85893),r=a(97752),n=a(809),i=a.n(n),l=a(92447),c=a(65988),o=a(11163),u=a(9669),d=a.n(u);function p(e,s,a){return m.apply(this,arguments)}function m(){return(m=(0,l.Z)(i().mark((function e(s,a,t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return"https://api.dpsmqaportal.com/api/user/validate-password",e.next=5,d()({method:"POST",url:"https://api.dpsmqaportal.com/api/user/validate-password",data:{userId:a,password:s},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 5:return r=e.sent,e.abrupt("return",r.data);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function h(e,s,a){return f.apply(this,arguments)}function f(){return(f=(0,l.Z)(i().mark((function e(s,a,t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=7;break}return r="https://api.dpsmqaportal.com/api/user/"+a,e.next=5,d()({method:"PUT",url:r,data:{password:s},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 5:return n=e.sent,e.abrupt("return",n.data);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var x=function(e){var s;return(0,t.jsxs)("div",{className:"jsx-371132353",children:[(0,t.jsx)("br",{className:"jsx-371132353"}),(0,t.jsx)("h4",{align:"center",className:"jsx-371132353",children:" Change Password "}),(0,t.jsx)("h6",{className:"jsx-371132353",children:"Required"}),(0,t.jsx)("div",{role:"alert",id:"changepassalert",style:{visibility:"hidden"},className:"jsx-371132353 alert alert-success"}),(0,t.jsxs)("form",{className:"jsx-371132353",children:[(0,t.jsxs)("div",{className:"jsx-371132353 form-group col-md-6",children:[(0,t.jsx)("label",{htmlFor:"old-password",className:"jsx-371132353 required-label",children:"Current Password:"}),(0,t.jsx)("input",{type:"password",id:"old-password",name:"old-password",required:!0,onBlur:(0,l.Z)(i().mark((function s(){var t,r;return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=document.getElementById("changepassalert"),r=document.getElementById("old-password").value,s.next=4,p(r,e.children.userId,e.token);case 4:1==s.sent.success?(t.style="visibility: hidden",a(!0)):(t.className="alert alert-danger",t.style="visibility: visible",t.innerHTML="The current password is incorrect",a(!1));case 6:case"end":return s.stop()}}),s)}))),className:"jsx-371132353 form-control"})]}),(0,t.jsxs)("div",{className:"jsx-371132353 form-group col-md-6",children:[(0,t.jsx)("label",{htmlFor:"new-password",className:"jsx-371132353 required-label",children:"New Password:"}),(0,t.jsx)("input",{type:"password",id:"new-password",name:"new-password",required:!0,className:"jsx-371132353 form-control"})]}),(0,t.jsxs)("div",{className:"jsx-371132353 form-group col-md-6",children:[(0,t.jsx)("label",{htmlFor:"confirm-new-password",className:"jsx-371132353 required-label",children:"Confirm New Password:"}),(0,t.jsx)("input",{type:"password",id:"confirm-new-password",name:"confirm-new-password",required:!0,onChange:(0,l.Z)(i().mark((function e(){var s,t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=document.getElementById("changepassalert"),t=document.getElementById("new-password").value,r=document.getElementById("confirm-new-password").value,t!=r?(s.className="alert alert-danger",s.style="visibility: visible",s.innerHTML="The passwords do not match",a(!1)):(s.style="visibility: hidden",a(!0));case 4:case"end":return e.stop()}}),e)}))),className:"jsx-371132353 form-control"})]}),(0,t.jsx)("button",{type:"button",onClick:function(){var a=(0,l.Z)(i().mark((function a(t){var r,n,l;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=document.getElementById("changepassalert"),s){a.next=5;break}t.preventDefault(),a.next=10;break;case 5:return n=document.getElementById("new-password").value,a.next=8,h(n,e.children.userId,e.token);case 8:1==(l=a.sent).success?(r.className="alert alert-success",r.style="visibility: visible",r.innerHTML=l.message,$("#changepassalert").fadeTo(5e3,500).slideUp(500,(function(){$("#changepassalert").slideUp(500),o.default.push("/login","/login")}))):(r.className="alert alert-danger",r.style="visibility: visible",l.error?r.innerHTML=l.error[0].message:r.innerHTML=l.message);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),className:"jsx-371132353 btn btn-primary col-md-12",children:"Change Password"})]}),(0,t.jsx)(c.default,{id:"371132353",children:['label.required-label.jsx-371132353:after{content:"*";color:#f00;}','h6.jsx-371132353:before{content:"* ";color:#f00;}']})]});function a(e){s=e}};var j=!0,g=function(e){return 5!=e.data.role?(0,t.jsx)(r.Z,{userId:e.data.userId,facultyId:e.data.facultyId,role:e.data.role,name:e.data.name,approvalList:e.approvalList,roleAssignmentFlag:e.roleAssignmentFlag,children:(0,t.jsx)(x,{token:e.token.user,children:e.data})}):(0,t.jsx)(r.Z,{userId:e.data.userId,role:e.data.role,name:e.data.name,children:(0,t.jsx)(x,{token:e.token.user,children:e.data})})}},39050:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/change-password",function(){return a(29610)}])},92447:function(e,s,a){"use strict";function t(e,s,a,t,r,n,i){try{var l=e[n](i),c=l.value}catch(o){return void a(o)}l.done?s(c):Promise.resolve(c).then(t,r)}function r(e){return function(){var s=this,a=arguments;return new Promise((function(r,n){var i=e.apply(s,a);function l(e){t(i,r,n,l,c,"next",e)}function c(e){t(i,r,n,l,c,"throw",e)}l(void 0)}))}}a.d(s,{Z:function(){return r}})},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[155,851,704,669,774,888,179],(function(){return s=39050,e(e.s=s);var s}));var s=e.O();_N_E=s}]);