(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{14176:function(e,s,t){"use strict";t(85893),t(9008),t(41664),t(37940)},81318:function(e,s,t){"use strict";t(85893),t(41664)},8237:function(e,s,t){"use strict";var a=t(85893),n=t(65988),r=t(41664);s.Z=function(e){var s="";switch(e.role){case 1:s="Faculty";break;case 2:s="Unit Head";break;case 3:s="Department Chair";break;default:s="Admin Clerk"}return(0,a.jsxs)("div",{className:"jsx-3546386183 row",children:[(0,a.jsxs)("nav",{className:"jsx-3546386183 navbar navbar-expand-lg",children:[(0,a.jsx)("span",{className:"jsx-3546386183 navbar-text",children:(0,a.jsx)("a",{className:"jsx-3546386183 navbar-brand",children:(0,a.jsx)("img",{src:"/dpsm-seal.png",width:"186",height:"150",alt:"DPSM-QA-Portal",className:"jsx-3546386183 d-inline-block align-top"})})}),(0,a.jsx)("h2",{className:"jsx-3546386183",children:" DPSM QA PORTAL "}),(0,a.jsx)("div",{className:"jsx-3546386183 ml-auto",children:(0,a.jsxs)("h5",{className:"jsx-3546386183",children:[" Currently Logged In: ",(0,a.jsx)(r.default,{href:"/settings/change-password",children:(0,a.jsxs)("a",{className:"jsx-3546386183",children:[" ",e.name," (",s,") "]})})," "]})})]}),(0,a.jsx)(n.default,{id:"3546386183",children:[".navbar.jsx-3546386183{background-color:#910303;width:100%;}","h2.jsx-3546386183,h5.jsx-3546386183{font-family:Georgia;color:#fff;}"]})]})}},97752:function(e,s,t){"use strict";var a=t(85893),n=t(9008),r=t(8237),i=t(37940);t(81318),t(14176),t(49704);s.Z=function(e){var s;return e.approvalList&&(s=e.approvalList),(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsxs)(n.default,{children:[(0,a.jsx)("title",{children:"DPSM-QA-PORTAL"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"}),(0,a.jsx)("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"}),(0,a.jsx)("script",{src:"https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"}),(0,a.jsx)("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"}),(0,a.jsx)("script",{src:"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"})]}),(0,a.jsx)(r.Z,{name:e.name,role:e.role}),(0,a.jsxs)("div",{className:"row",id:"layout_row",children:[(0,a.jsx)(i.Z,{role:e.role,approvalList:s,facultyId:e.facultyId,roleAssignment:e.roleAssignmentFlag}),(0,a.jsx)("div",{className:"col",id:"layout_content",children:e.children})]})]})}},37940:function(e,s,t){"use strict";var a=t(85893),n=t(64121),r=t(65988),i=t(41664),l=t(12102),c=t(67294),o=t(11163);s.Z=function(e){var s=(0,o.useRouter)(),t=(0,l.Z)(["user"]),u=(0,n.Z)(t,3),d=(u[0],u[1],u[2]),p=!0,m=!0;1!=e.role&&2!=e.role&&3!=e.role||(m=!1,2!=e.role&&3!=e.role||(p=!1));var h=(0,c.useState)("false"),f=h[0],x=h[1];return(0,a.jsxs)("div",{id:"sidebar",children:[(0,a.jsx)("div",{className:"alert alert-info col-12 d-md-none text-center",onClick:function(){x(!f)},children:" Main Menu "}),(0,a.jsxs)("div",{id:"menu",className:"jsx-1836586042 "+((f?null:"d-none d-md-block")||""),children:[(0,a.jsxs)("div",{className:"jsx-1836586042 list-group col-12",children:[(0,a.jsx)("a",{"data-toggle":"collapse","data-target":"#facultyMenu","aria-controls":"facultyMenu",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:" Faculty "}),(0,a.jsxs)("div",{id:"facultyMenu",className:"jsx-1836586042 collapse show",children:[!m&&!p&&(0,a.jsx)(i.default,{href:{pathname:"/faculty"},children:(0,a.jsx)("a",{id:"/faculty"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Dashboard"})}),!m&&(0,a.jsx)(i.default,{href:{pathname:"/faculty/basic-info"},children:(0,a.jsx)("a",{id:"/faculty/basic-info"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Basic Information"})}),!m&&(0,a.jsx)(i.default,{href:{pathname:"/faculty/accomplishment"},children:(0,a.jsx)("a",{id:"/faculty/accomplishment"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Accomplishment"})}),!m&&(0,a.jsx)(i.default,{href:{pathname:"/faculty/faculty-load"},children:(0,a.jsx)("a",{id:"/faculty/faculty-load"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Faculty Load"})}),!m&&(0,a.jsx)(i.default,{href:{pathname:"/faculty/evaluation"},children:(0,a.jsx)("a",{id:"/faculty/evaluation"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:"Peer Evaluation"})}),!m&&!p&&(0,a.jsx)(i.default,{href:{pathname:"/faculty/view/all"},children:(0,a.jsx)("a",{id:"/faculty/view/all"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:"Faculty List"})}),!m&&!p&&(0,a.jsx)(i.default,{href:{pathname:"/faculty/approval"},children:(0,a.jsxs)("a",{id:"/faculty/approval"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:["Pending Approvals \xa0",e.approvalList.facultyCount>0&&(0,a.jsx)("span",{className:"jsx-1836586042 badge badge-danger",children:e.approvalList.facultyCount})]})}),m&&(0,a.jsx)(i.default,{href:{pathname:"/admin"},children:(0,a.jsx)("a",{id:"/admin"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success ",children:"Faculty List"})}),!m&&!p&&e.roleAssignment&&(0,a.jsx)(i.default,{href:{pathname:"/faculty/role-assignment"},children:(0,a.jsxs)("a",{id:"/faculty/role-assignment"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:["Role Assignment \xa0",(0,a.jsx)("span",{className:"jsx-1836586042 badge badge-danger",children:"!"})]})}),!m&&!p&&!e.roleAssignment&&(0,a.jsx)(i.default,{href:{pathname:"/faculty/role-assignment"},children:(0,a.jsx)("a",{id:"/faculty/role-assignment"===s.pathname?"active":"inactive",className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-success",children:"Role Assignment"})})]})]}),(0,a.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,a.jsx)(i.default,{href:"/student",children:(0,a.jsx)("a",{className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:"Student"})})}),(0,a.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,a.jsx)(i.default,{href:"/alumni",children:(0,a.jsx)("a",{className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:"Alumni"})})}),(0,a.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,a.jsx)(i.default,{href:"/department-activities",children:(0,a.jsx)("a",{className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-secondary",children:"Department Activities"})})}),(0,a.jsx)("div",{className:"jsx-1836586042 list-group col-12",children:(0,a.jsx)(i.default,{href:"/login",children:(0,a.jsx)("a",{onClick:function(){d("user")},className:"jsx-1836586042 list-group-item list-group-item-action list-group-item-danger",children:"Log Out"})})}),(0,a.jsx)(r.default,{id:"1836586042",children:["#menu.jsx-1836586042{background-color:#017823;}",".list-group-item-success.jsx-1836586042{text-indent:20%;}","#active.jsx-1836586042{background-color:#005919;color:#fff;}"]})]})]})}},29610:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return x},default:function(){return j}});var a=t(85893),n=t(97752),r=t(809),i=t.n(r),l=t(92447),c=t(11163),o=t(9669),u=t.n(o);function d(e,s,t){return p.apply(this,arguments)}function p(){return(p=(0,l.Z)(i().mark((function e(s,t,a){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=7;break}return"https://api.dpsmqaportal.com/api/user/validate-password",e.next=5,u()({method:"POST",url:"https://api.dpsmqaportal.com/api/user/validate-password",data:{userId:t,password:s},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 5:return n=e.sent,e.abrupt("return",n.data);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function m(e,s,t){return h.apply(this,arguments)}function h(){return(h=(0,l.Z)(i().mark((function e(s,t,a){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!a){e.next=7;break}return n="https://api.dpsmqaportal.com/api/user/"+t,e.next=5,u()({method:"PUT",url:n,data:{password:s},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 5:return r=e.sent,e.abrupt("return",r.data);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var f=function(e){var s;return(0,a.jsxs)("div",{children:[(0,a.jsx)("br",{}),(0,a.jsx)("h4",{align:"center",children:" Change Password "}),(0,a.jsx)("div",{className:"alert alert-success",role:"alert",id:"changepassalert",style:{visibility:"hidden"}}),(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"form-group col-md-6",children:[(0,a.jsx)("label",{htmlFor:"old-password",children:"Current Password:"}),(0,a.jsx)("input",{className:"form-control",type:"password",id:"old-password",name:"old-password",required:!0,onBlur:(0,l.Z)(i().mark((function s(){var a,n;return i().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=document.getElementById("changepassalert"),n=document.getElementById("old-password").value,s.next=4,d(n,e.children.userId,e.token);case 4:1==s.sent.success?(a.style="visibility: hidden",t(!0)):(a.className="alert alert-danger",a.style="visibility: visible",a.innerHTML="The current password is incorrect",t(!1));case 6:case"end":return s.stop()}}),s)})))})]}),(0,a.jsxs)("div",{className:"form-group col-md-6",children:[(0,a.jsx)("label",{htmlFor:"new-password",children:"New Password:"}),(0,a.jsx)("input",{className:"form-control",type:"password",id:"new-password",name:"new-password",required:!0})]}),(0,a.jsxs)("div",{className:"form-group col-md-6",children:[(0,a.jsx)("label",{htmlFor:"confirm-new-password",children:"Confirm New Password:"}),(0,a.jsx)("input",{className:"form-control",type:"password",id:"confirm-new-password",name:"confirm-new-password",required:!0,onChange:(0,l.Z)(i().mark((function e(){var s,a,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=document.getElementById("changepassalert"),a=document.getElementById("new-password").value,n=document.getElementById("confirm-new-password").value,a!=n?(s.className="alert alert-danger",s.style="visibility: visible",s.innerHTML="The passwords do not match",t(!1)):(s.style="visibility: hidden",t(!0));case 4:case"end":return e.stop()}}),e)})))})]}),(0,a.jsx)("button",{type:"button",className:"btn btn-primary col-md-12",onClick:function(){var t=(0,l.Z)(i().mark((function t(a){var n,r,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.getElementById("changepassalert"),s){t.next=5;break}a.preventDefault(),t.next=10;break;case 5:return r=document.getElementById("new-password").value,t.next=8,m(r,e.children.userId,e.token);case 8:1==(l=t.sent).success?(n.className="alert alert-success",n.style="visibility: visible",n.innerHTML=l.message,$("#changepassalert").fadeTo(5e3,500).slideUp(500,(function(){$("#changepassalert").slideUp(500),c.default.push("/login","/login")}))):(n.className="alert alert-danger",n.style="visibility: visible",l.error?n.innerHTML=l.error[0].message:n.innerHTML=l.message);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),children:"Change Password"})]})]});function t(e){s=e}};var x=!0,j=function(e){return 5!=e.data.role?(0,a.jsx)(n.Z,{userId:e.data.userId,facultyId:e.data.facultyId,role:e.data.role,name:e.data.name,approvalList:e.approvalList,roleAssignmentFlag:e.roleAssignmentFlag,children:(0,a.jsx)(f,{token:e.token.user,children:e.data})}):(0,a.jsx)(n.Z,{userId:e.data.userId,role:e.data.role,name:e.data.name,children:(0,a.jsx)(f,{token:e.token.user,children:e.data})})}},39050:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/change-password",function(){return t(29610)}])},92447:function(e,s,t){"use strict";function a(e,s,t,a,n,r,i){try{var l=e[r](i),c=l.value}catch(o){return void t(o)}l.done?s(c):Promise.resolve(c).then(a,n)}function n(e){return function(){var s=this,t=arguments;return new Promise((function(n,r){var i=e.apply(s,t);function l(e){a(i,n,r,l,c,"next",e)}function c(e){a(i,n,r,l,c,"throw",e)}l(void 0)}))}}t.d(s,{Z:function(){return n}})},80950:function(){},46601:function(){},89214:function(){},8623:function(){},7748:function(){},85568:function(){},56619:function(){},77108:function(){},52361:function(){},94616:function(){}},function(e){e.O(0,[155,851,704,669,774,888,179],(function(){return s=39050,e(e.s=s);var s}));var s=e.O();_N_E=s}]);